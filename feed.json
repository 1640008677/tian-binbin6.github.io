{
    "version": "https://jsonfeed.org/version/1",
    "title": "éŸ“",
    "subtitle": "",
    "icon": "https://www.jackfruit.top/images/favicon.ico",
    "description": "æ¬¢è¿æ¥åˆ°â¥æ†¨æ†¨çš„ç©—ç©—å½¬è€¶â¥çš„ä¸ªäººåšå®¢",
    "home_page_url": "https://www.jackfruit.top",
    "items": [
        {
            "id": "https://www.jackfruit.top/2023/02/28/pageabout/",
            "url": "https://www.jackfruit.top/2023/02/28/pageabout/",
            "title": "pageabout",
            "date_published": "2023-02-27T16:02:49.000Z",
            "content_html": "<h3 id=\"ç¬¬ä¸€æ¬¡ç¼–å†™ä¸ªäººåšå®¢ã¥-Ì„3-Ì„ã¥ï¸~\"><a class=\"anchor\" href=\"#ç¬¬ä¸€æ¬¡ç¼–å†™ä¸ªäººåšå®¢ã¥-Ì„3-Ì„ã¥ï¸~\">#</a> ç¬¬ä¸€æ¬¡ç¼–å†™ä¸ªäººåšå®¢ï¼ˆã¥ï¿£3ï¿£ï¼‰ã¥â•­â¤ï¸ï½</h3>\n<h5 id=\"æ”¶è·\"><a class=\"anchor\" href=\"#æ”¶è·\">#</a> æ”¶è·ğŸ˜Šï¼š</h5>\n<pre><code>\tç¬¬ä¸€æ¬¡ç¼–å†™åšå®¢æ˜¯å¥—ç”¨åˆ«äººçš„æ–¹æ³•ä½¿ç”¨çš„ï¼Œå¤–è§‚ã€å›¾ç‰‡ã€CSSæ ·å¼ã€æ¸²æŸ“å™¨ç­‰ç­‰ç­‰....\n</code></pre>\n<p>â€‹\t<strong>æ”¶è·åˆ°è®¸å¤šï¼Œäº†è§£åˆ°ä¸€ä¸ªç½‘ç«™æ˜¯å¦‚ä½•å»ºæˆçš„ï¼ˆè™½ç„¶æ˜¯æœ€ç®€å•æ­å»ºï¼Œç”¨æ—¶ï¼š5 ä¸ªå°æ—¶å¤šä¸€ç‚¹ï½ï½ï½ï¼‰ã€‚æ¯”å¦‚è¯´å¦‚ä½•å»ºä»“åº“ï¼Œæ— åç«¯è¯„è®ºåŒºï¼Œæœç´¢å¼•æ“ç­‰ï¼Œï¼Œï¼Œè¿™äº›éƒ½æ˜¯å§”æ‰˜åœ¨ç¬¬ä¸‰æ–¹å¹³å°ä¸Šæ­å»ºèµ·æ¥çš„ï¼Œä»£ç æ²¡æ”¹å¤ªå¤šï¼ˆéƒ½æ˜¯ copy åˆ«äººçš„æ ·å¼ï¼Œä¸»é¢˜ï¼Œï¼Œï¼‰ã€‚ç°åœ¨å…ˆæ¨¡ä»¿ï¼ŒåæœŸå†æ…¢æ…¢æ‘¸ç´¢ã€‚</strong></p>\n<p>è¿™ä¸ªç½‘ç«™æˆ‘ä¹Ÿä¼šç»´æŠ¤ä¸‹å»ï¼Œä½†æ˜¯è‡³äºæ˜¯å•¥æ—¶å€™æ›´æ–°å°±ä¸ä¸€å®šäº†ã€‚</p>\n",
            "tags": []
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/Zooker%E5%AE%89%E8%A3%85/",
            "url": "https://www.jackfruit.top/2023/02/27/Zooker%E5%AE%89%E8%A3%85/",
            "title": "Zookerå®‰è£…",
            "date_published": "2023-02-27T03:36:51.000Z",
            "content_html": "<h1 id=\"zookerå®‰è£…\"><a class=\"anchor\" href=\"#zookerå®‰è£…\">#</a> zooker å®‰è£…</h1>\n<h3 id=\"ä¸€-è§£å‹\"><a class=\"anchor\" href=\"#ä¸€-è§£å‹\">#</a> ä¸€ã€è§£å‹</h3>\n<pre><code>tar -zxvf zookeeper-3.4.6.tar.gz -C /opt/module\n</code></pre>\n<h3 id=\"äºŒ-ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#äºŒ-ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> äºŒã€ä¿®æ”¹é…ç½®æ–‡ä»¶</h3>\n<pre><code>cd /opt/module/zookeeper-3.4.6\nmkdir data\ncd data\n</code></pre>\n<h4 id=\"vi-myidæœºå™¨çš„id\"><a class=\"anchor\" href=\"#vi-myidæœºå™¨çš„id\">#</a> vi myid\tæœºå™¨çš„ ID</h4>\n<pre><code>å¡«å…¥ 1\n</code></pre>\n<pre><code>cd /opt/module/zookeeper-3.4.6/conf\n\nmv zoo_sample.cfg zoo.cfg\tæ”¹å\n</code></pre>\n<h4 id=\"vi-zoocfgæ·»åŠ datadirçš„è·¯å¾„å’Œæ·»åŠ serverçš„é…ç½®\"><a class=\"anchor\" href=\"#vi-zoocfgæ·»åŠ datadirçš„è·¯å¾„å’Œæ·»åŠ serverçš„é…ç½®\">#</a> vi zoo.cfg\tæ·»åŠ  datadir çš„è·¯å¾„å’Œæ·»åŠ  server çš„é…ç½®</h4>\n<pre><code>dataDir=/opt/module/zookeeper-3.4.6/data\nserver.1=master:2888:3888\nserver.2=slave1:2888:3888\nserver.3=slave2:2888:3888\n</code></pre>\n<h3 id=\"ä¸‰-é…ç½®zookeeperç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#ä¸‰-é…ç½®zookeeperç¯å¢ƒå˜é‡\">#</a> ä¸‰ã€é…ç½® Zookeeper ç¯å¢ƒå˜é‡</h3>\n<h4 id=\"vi-etcprofile\"><a class=\"anchor\" href=\"#vi-etcprofile\">#</a> vi /etc/profile</h4>\n<pre><code>#set zookeeper environment  \nexport ZOOKEEPER_HOME=/opt/module/zookeeper-3.4.6 \nexport PATH=$PATH:$ZOOKEEPER_HOME/bin \n</code></pre>\n<pre><code>source /etc/profile\t\t#ç”Ÿæ•ˆç¯å¢ƒå˜é‡\n</code></pre>\n<h3 id=\"å››-åŒæ­¥åˆ°å…¶å®ƒè™šæ‹Ÿæœº\"><a class=\"anchor\" href=\"#å››-åŒæ­¥åˆ°å…¶å®ƒè™šæ‹Ÿæœº\">#</a> å››ã€åŒæ­¥åˆ°å…¶å®ƒè™šæ‹Ÿæœº</h3>\n<pre><code>scp -r /opt/module/zookeeper-3.4.6 root@slave1:/opt/module \n\nscp -r /opt/module/zookeeper-3.4.6 root@slave2:/opt/module\n\nscp -r /etc/profile root@slave1:/etc/profile\n\nscp -r /etc/profile root@slave2:/etc/profile\n</code></pre>\n<pre><code>source /etc/profile\t\t#slave1å’Œslave2éƒ½è¦æ‰§è¡Œ\n</code></pre>\n<h3 id=\"äº”-ä¿®æ”¹åˆ†èŠ‚ç‚¹çš„myidæ–‡ä»¶\"><a class=\"anchor\" href=\"#äº”-ä¿®æ”¹åˆ†èŠ‚ç‚¹çš„myidæ–‡ä»¶\">#</a> äº”ã€ä¿®æ”¹åˆ†èŠ‚ç‚¹çš„ myid æ–‡ä»¶</h3>\n<pre><code>cd /opt/module/zookeeper-3.4.6/data\n</code></pre>\n<h4 id=\"vi-myidæœºå™¨id\"><a class=\"anchor\" href=\"#vi-myidæœºå™¨id\">#</a> vi myid\tæœºå™¨ ID</h4>\n<pre><code>åˆ†åˆ«ä¸º2å’Œ3\n</code></pre>\n<h3 id=\"å…­-å¯åŠ¨zookeeperæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦è¿›è¡Œ\"><a class=\"anchor\" href=\"#å…­-å¯åŠ¨zookeeperæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦è¿›è¡Œ\">#</a> å…­ã€å¯åŠ¨ Zookeeperï¼ˆæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦è¿›è¡Œï¼‰</h3>\n<pre><code>cd /opt/module/zookeeper-3.4.6/bin\n</code></pre>\n<pre><code>zkServer.sh start\t\t#å¼€å¯æœåŠ¡\n</code></pre>\n<pre><code>zkServer.sh status\t\t#æŸ¥çœ‹çŠ¶æ€\n</code></pre>\n<p>æ³¨ï¼šä¸€ä¸ªèŠ‚ç‚¹æ˜¯ Leaderï¼Œå…¶ä½™çš„ç»“ç‚¹æ˜¯ Followerï¼ˆLeader ä¸ä¸€å®šæ˜¯ä¸»èŠ‚ç‚¹ï¼Œç³»ç»Ÿéšæœºåˆ†é…çš„ï¼‰ã€‚</p>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/Sqoop%E5%AE%89%E8%A3%85/",
            "url": "https://www.jackfruit.top/2023/02/27/Sqoop%E5%AE%89%E8%A3%85/",
            "title": "Sqoopå®‰è£…",
            "date_published": "2023-02-27T03:36:14.000Z",
            "content_html": "<h1 id=\"sqoopå®‰è£…\"><a class=\"anchor\" href=\"#sqoopå®‰è£…\">#</a> Sqoop å®‰è£…</h1>\n<h3 id=\"ä¸€-è§£å‹\"><a class=\"anchor\" href=\"#ä¸€-è§£å‹\">#</a> ä¸€ã€è§£å‹</h3>\n<pre><code>tar -zxvf /opt/software/sqoop-1.4.2.bin__hadoop-2.0.0-alpha.tar.gz -C /opt/module\n</code></pre>\n<h3 id=\"äºŒ-é…ç½®profileæ–‡ä»¶\"><a class=\"anchor\" href=\"#äºŒ-é…ç½®profileæ–‡ä»¶\">#</a> äºŒã€é…ç½® profile æ–‡ä»¶</h3>\n<p><strong>vi /etc/profile</strong></p>\n<pre><code>#sqoop\nexport SQOOP_HOME=/opt/module/sqoop-1.4.2.bin__hadoop-2.0.0-alpha\nexport PATH=$PATH:$ZOOKEEPER_HOME/bin:$SQOOP_HOME/bin\n</code></pre>\n<pre><code>source /etc/profile  (åˆ·æ–°profileæ–‡ä»¶)\n</code></pre>\n<p><strong>éªŒè¯ç¯å¢ƒæ˜¯å¦é…ç½®å®Œæˆ</strong></p>\n<pre><code>sqoop version\n</code></pre>\n<h3 id=\"ä¸‰-ä¿®æ”¹sqoop-envshæ–‡ä»¶\"><a class=\"anchor\" href=\"#ä¸‰-ä¿®æ”¹sqoop-envshæ–‡ä»¶\">#</a> ä¸‰ã€ä¿®æ”¹ sqoop-env.sh æ–‡ä»¶</h3>\n<pre><code>cd /opt/module/sqoop-1.4.2.bin__hadoop-2.0.0-alpha/conf\n</code></pre>\n<pre><code>mv sqoop-env-template.sh sqoop-env.sh\nvi sqoop-env.sh\n</code></pre>\n<pre><code>#Set path to where bin/hadoop is available\nexport HADOOP_COMMON_HOME=/opt/module/hadoop-2.7.7\n\n#Set path to where hadoop-*-core.jar is available\nexport HADOOP_MAPRED_HOME=/opt/module/hadoop-2.7.7\n\n#set the path to where bin/hbase is available\nexport HBASE_HOME=\n\n#Set the path to where bin/hive is available\nexport HIVE_HOME=/opt/module/apache-hive-2.3.4-bin\n\n#Set the path for where zookeper config dir is\nexport ZOOCFGDIR=/opt/module/zookeeper-3.4.6/conf\n</code></pre>\n<h4 id=\"å°†mysqlå…³ç³»å‹æ•°æ®åº“é©±åŠ¨åŒ…æ”¾åˆ°sqooplibç›®å½•ä¸‹\"><a class=\"anchor\" href=\"#å°†mysqlå…³ç³»å‹æ•°æ®åº“é©±åŠ¨åŒ…æ”¾åˆ°sqooplibç›®å½•ä¸‹\">#</a> å°† mysql å…³ç³»å‹æ•°æ®åº“é©±åŠ¨åŒ…æ”¾åˆ° sqoop/lib ç›®å½•ä¸‹</h4>\n<pre><code>cp /opt/software/mysql-connector-java-5.1.47-bin.jar /opt/module/sqoop-1.4.2.bin__hadoop-2.0.0-alpha/lib\n</code></pre>\n<h4 id=\"éªŒè¯sqoopè¿æ¥mysqlæ•°æ®åº“æ˜¯å¦æˆåŠŸ\"><a class=\"anchor\" href=\"#éªŒè¯sqoopè¿æ¥mysqlæ•°æ®åº“æ˜¯å¦æˆåŠŸ\">#</a> éªŒè¯ sqoop è¿æ¥ mysql æ•°æ®åº“æ˜¯å¦æˆåŠŸ</h4>\n<pre><code>sqoop list-databases --connect jdbc:mysql://master:3306 --username root --password 123456\n</code></pre>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/Spark%E5%AE%89%E8%A3%85/",
            "url": "https://www.jackfruit.top/2023/02/27/Spark%E5%AE%89%E8%A3%85/",
            "title": "Sparkå®‰è£…",
            "date_published": "2023-02-27T03:35:58.000Z",
            "content_html": "<h1 id=\"sparkå®‰è£…\"><a class=\"anchor\" href=\"#sparkå®‰è£…\">#</a> spark å®‰è£…</h1>\n<h3 id=\"ä¸€-è§£å‹\"><a class=\"anchor\" href=\"#ä¸€-è§£å‹\">#</a> ä¸€ã€è§£å‹</h3>\n<pre><code>tar -zxvf /opt/software/spark-2.1.1-bin-hadoop2.7.tgz -C /opt/module\n</code></pre>\n<h3 id=\"äºŒ-é…ç½®spark-envshæ–‡ä»¶\"><a class=\"anchor\" href=\"#äºŒ-é…ç½®spark-envshæ–‡ä»¶\">#</a> äºŒã€é…ç½® spark-env.sh æ–‡ä»¶</h3>\n<pre><code>mv /opt/module/spark-2.1.1-bin-hadoop2.7 spark-2.1.1\ncd /opt/module/spark-2.1.1/conf\ncp spark-env.sh.template spark-env.sh\n</code></pre>\n<p><strong>vi <span class=\"exturl\" data-url=\"aHR0cDovL3NwYXJrLWVudi5zaA==\">spark-env.sh</span></strong></p>\n<pre><code>export SPARK_MASTER_IP=master\nexport SPARK_WORKER_MEMORY=8g\nexport SCALA_HOME=/opt/module/scala-2.11.0\nexport JAVA_HOME=/opt/module/jdk1.8\nexport HADOOP_HOME=/opt/module/hadoop-2.7.7\nexport HADOOP_CONF_DIR=/opt/module/hadoop-2.7.7/etc/hadoop\n</code></pre>\n<h3 id=\"ä¸‰-ä¿®æ”¹slavesæ–‡ä»¶\"><a class=\"anchor\" href=\"#ä¸‰-ä¿®æ”¹slavesæ–‡ä»¶\">#</a> ä¸‰ã€ä¿®æ”¹ slaves æ–‡ä»¶</h3>\n<pre><code>cp slaves.template slaves\n</code></pre>\n<p><strong>vi slaves</strong></p>\n<pre><code>master\nslave1\nslave2\n</code></pre>\n<h3 id=\"å››-é…ç½®sparkç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#å››-é…ç½®sparkç¯å¢ƒå˜é‡\">#</a> å››ã€é…ç½® Spark ç¯å¢ƒå˜é‡</h3>\n<p><strong>vi /etc/profile</strong></p>\n<pre><code>#spark\nexport SPARK_HOME=/opt/module/spark-2.1.1\nexport PATH=$PATH:$SPARK_HOME/bin\nexport PATH=$PATH:$SPARK_HOME/sbin\n</code></pre>\n<pre><code>source /etc/profile\t\t#ç”Ÿæ•ˆç¯å¢ƒå˜é‡\n</code></pre>\n<h3 id=\"äº”-åŒæ­¥å…¶å®ƒè™šæ‹Ÿæœº\"><a class=\"anchor\" href=\"#äº”-åŒæ­¥å…¶å®ƒè™šæ‹Ÿæœº\">#</a> äº”ã€åŒæ­¥å…¶å®ƒè™šæ‹Ÿæœº</h3>\n<pre><code>scp -r /etc/profile root@slave1:/etc/profile\t#å°†ç¯å¢ƒå˜é‡profileæ–‡ä»¶åˆ†å‘åˆ°slave1èŠ‚ç‚¹\n\nscp -r /etc/profile root@slave2:/etc/profile\t#å°†ç¯å¢ƒå˜é‡profileæ–‡ä»¶åˆ†å‘åˆ°slave2èŠ‚ç‚¹\n\nscp -r /opt/module/spark-2.1.1 root@slave1:/opt/module\t#å°†scalaæ–‡ä»¶åˆ†å‘åˆ°slave1èŠ‚ç‚¹\n\nscp -r /opt/module/spark-2.1.1 root@slave2:/opt/module\t#å°†scalaæ–‡ä»¶åˆ†å‘åˆ°slave2èŠ‚ç‚¹\n</code></pre>\n<pre><code>source /etc/profile\t\t#slave1å’Œslave2éƒ½è¦æ‰§è¡Œ\n</code></pre>\n<h3 id=\"å…­-å¼€å¯sparkç¯å¢ƒåªåœ¨masterèŠ‚ç‚¹\"><a class=\"anchor\" href=\"#å…­-å¼€å¯sparkç¯å¢ƒåªåœ¨masterèŠ‚ç‚¹\">#</a> å…­ã€å¼€å¯ spark ç¯å¢ƒï¼ˆåªåœ¨ master èŠ‚ç‚¹ï¼‰</h3>\n<pre><code>/opt/module/spark-2.1.1/sbin/start-all.sh\n</code></pre>\n<p>éªŒè¯</p>\n<pre><code>http://192.168.23.48:8080\n</code></pre>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/scala%E5%AD%A6%E4%B9%A0/",
            "url": "https://www.jackfruit.top/2023/02/27/scala%E5%AD%A6%E4%B9%A0/",
            "title": "scalaå­¦ä¹ ",
            "date_published": "2023-02-27T03:35:41.000Z",
            "content_html": "",
            "tags": [
                "å­¦ä¹ ",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/scala%E5%AE%89%E8%A3%85/",
            "url": "https://www.jackfruit.top/2023/02/27/scala%E5%AE%89%E8%A3%85/",
            "title": "scalaå®‰è£…",
            "date_published": "2023-02-27T03:35:27.000Z",
            "content_html": "<h1 id=\"scalaå®‰è£…\"><a class=\"anchor\" href=\"#scalaå®‰è£…\">#</a> scala å®‰è£…</h1>\n<h3 id=\"ä¸€-è§£å‹\"><a class=\"anchor\" href=\"#ä¸€-è§£å‹\">#</a> ä¸€ã€è§£å‹</h3>\n<pre><code>tar -zxvf /opt/software/scala-2.11.0.tgz -C /opt/module \n</code></pre>\n<h3 id=\"äºŒ-é…ç½®ç¯å¢ƒ\"><a class=\"anchor\" href=\"#äºŒ-é…ç½®ç¯å¢ƒ\">#</a> äºŒã€é…ç½®ç¯å¢ƒ</h3>\n<pre><code>cd /opt/module/scala-2.11.0\n</code></pre>\n<p><strong>vi /etc/profile</strong></p>\n<pre><code>#set scala\nexport SCALA_HOME=/opt/module/scala-2.11.0\nexport PATH=$PATH:$SCALA_HOME/bin\n</code></pre>\n<pre><code>source /etc/profile\t\t#ç”Ÿæ•ˆç¯å¢ƒå˜é‡\n</code></pre>\n<pre><code>scala -version\t\t\t#æŸ¥çœ‹scalaæ˜¯å¦å®‰è£…æˆåŠŸ\n</code></pre>\n<h3 id=\"ä¸‰-åŒæ­¥å…¶å®ƒè™šæ‹Ÿæœº\"><a class=\"anchor\" href=\"#ä¸‰-åŒæ­¥å…¶å®ƒè™šæ‹Ÿæœº\">#</a> ä¸‰ã€åŒæ­¥å…¶å®ƒè™šæ‹Ÿæœº</h3>\n<pre><code>scp -r /etc/profile root@slave1:/etc/profile\t#å°†ç¯å¢ƒå˜é‡profileæ–‡ä»¶åˆ†å‘åˆ°slave1èŠ‚ç‚¹\n\nscp -r /etc/profile root@slave2:/etc/profile\t#å°†ç¯å¢ƒå˜é‡profileæ–‡ä»¶åˆ†å‘åˆ°slave2èŠ‚ç‚¹\n\nscp -r /opt/module/scala-2.11.0 root@slave1:/opt/module\t\t#å°†scalaæ–‡ä»¶åˆ†å‘åˆ°slave1èŠ‚ç‚¹\n\nscp -r /opt/module/scala-2.11.0 root@slave2:/opt/module\t\t#å°†scalaæ–‡ä»¶åˆ†å‘åˆ°slave2èŠ‚ç‚¹\n</code></pre>\n<p><strong>(åˆ†èŠ‚ç‚¹)</strong></p>\n<pre><code>source /etc/profile\t\t#ç”Ÿæ•ˆç¯å¢ƒå˜é‡\n</code></pre>\n<pre><code>scala -version\t\t\t#æŸ¥çœ‹scalaæ˜¯å¦å®‰è£…æˆåŠŸ\n</code></pre>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/MySQL%E8%8D%89%E7%A8%BF%E4%BD%BF%E7%94%A8/",
            "url": "https://www.jackfruit.top/2023/02/27/MySQL%E8%8D%89%E7%A8%BF%E4%BD%BF%E7%94%A8/",
            "title": "MySQLè‰ç¨¿ä½¿ç”¨",
            "date_published": "2023-02-27T03:35:06.000Z",
            "content_html": "<h2 id=\"mysql7æ¡æ¶ˆæ¯-åŸºç¡€ç¯‡æ•°æ®åº“-sql-å…¥é—¨æ•™ç¨‹_luciferä¸‰æ€è€Œåè¡Œçš„åšå®¢-csdnåšå®¢_sqlæ•°æ®åº“\"><a class=\"anchor\" href=\"#mysql7æ¡æ¶ˆæ¯-åŸºç¡€ç¯‡æ•°æ®åº“-sql-å…¥é—¨æ•™ç¨‹_luciferä¸‰æ€è€Œåè¡Œçš„åšå®¢-csdnåšå®¢_sqlæ•°æ®åº“\">#</a> MySQLï¼ˆ<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzUwNTQ2MDE2L2FydGljbGUvZGV0YWlscy8xMjAwNzAwMDM/b3BzX3JlcXVlc3RfbWlzYz0lN0IlMjJyZXF1ZXN0JTVGaWQlMjIlM0ElMjIxNjY1NzA3OTY5MTY3ODI0MTcwMjQ2MDclMjIlMkMlMjJzY20lMjIlM0ElMjIyMDE0MDcxMy4xMzAxMDIzMzQuLiUyMiU3RCZhbXA7cmVxdWVzdF9pZD0xNjY1NzA3OTY5MTY3ODI0MTcwMjQ2MDcmYW1wO2Jpel9pZD0wJmFtcDt1dG1fbWVkaXVtPWRpc3RyaWJ1dGUucGNfc2VhcmNoX3Jlc3VsdC5ub25lLXRhc2stYmxvZy0yfmFsbH50b3BfcG9zaXRpdmV+ZGVmYXVsdC0xLTEyMDA3MDAwMy1udWxsLW51bGwuMTQyJTVFdjU2JTVFanNfdG9wLDIwMSU1RXYzJTVFY29udHJvbF8xJmFtcDt1dG1fdGVybT0lRTYlOTUlQjAlRTYlOEQlQUUlRTUlQkElOTMmYW1wO3NwbT0xMDE4LjIyMjYuMzAwMS40MTg3\">(7 æ¡æ¶ˆæ¯) åŸºç¡€ç¯‡ï¼šæ•°æ®åº“ SQL å…¥é—¨æ•™ç¨‹_Lucifer ä¸‰æ€è€Œåè¡Œçš„åšå®¢ - CSDN åšå®¢_sql æ•°æ®åº“</span>ï¼‰</h2>\n<pre><code>create database company;\t#åˆ›å»ºæ•°æ®åº“\n\nshow databases;\t#æŸ¥çœ‹æ•°æ®åº“\n\nuse company;\t#ä½¿ç”¨æ•°æ®åº“\n\nshow tables;\t#æŸ¥çœ‹æ‰€æœ‰è¡¨\n\ndesc XXX;\t#æŸ¥çœ‹è¡¨ç»“æ„\n\n#åˆ›å»ºè¡¨\ncreate table company.staff(\nid int (4) primary key not null auto_increment,\nname varchar(255),\nsex varchar(255)\n);\n\n#æŸ¥çœ‹è¡¨\nselect * from staff;\n\n#æ’å…¥æ•°æ®\ninsert into staff(name,sex) values('Thomas','Male');\n\n#æ’å…¥æ•°æ®åˆ°è¡¨æ ¼\ninsert into staff values(2,'Catalina','FeMale');\n\n#åˆ é™¤è¡¨\ndrop table staff;\n\n#åˆ é™¤è¡¨æ•°æ®\ndelete from staff where name='Thomas';\n\n#ä¿®æ”¹è¡¨å\nalter table XXXX rename to XXXX;\n</code></pre>\n<h2 id=\"ä½¿ç”¨sqoopä¸Šä¼ åˆ°hdfs\"><a class=\"anchor\" href=\"#ä½¿ç”¨sqoopä¸Šä¼ åˆ°hdfs\">#</a> ä½¿ç”¨ sqoop ä¸Šä¼ åˆ° hdfs</h2>\n<h3 id=\"æ¨¡æ¿\"><a class=\"anchor\" href=\"#æ¨¡æ¿\">#</a> æ¨¡æ¿</h3>\n<pre><code>[root@master sqoop-1.4.7]# bin/sqoop import \\\n--connect jdbc:mysql://master:3306/company \\ #MySQLæ•°æ®åº“çš„æ•°æ®åº“ç«¯å£å’Œæ•°æ®åº“åç§°\n--username root \\ #mysqlæ•°æ®åº“ç”¨æˆ·\n--password 000000 \\ #mysqlå¯†ç \n--table staff \\ #mysqlä¸­çš„è¡¨å\n--target-dir /user/company \\ #å¯¼å…¥åˆ°hdfsä¸Šçš„ä½ç½®\n--delete-target-dir \\ #å¦‚æœå­˜åœ¨ç›¸åŒæ–‡ä»¶å¤¹åˆ é™¤\n--fields-terminated-by &quot;\\t&quot; #æŒ‰\\tåˆ†å‰²\n\n\n#å‚æ•°è§£é‡Š\n--delete-target-dir ï¼šç›®æ ‡ç›®å½•å­˜åœ¨å°±åˆ é™¤\n--target-dirï¼šæŒ‡å®šè¾“å‡ºç›®å½•ï¼Œä¸æŒ‡å®šå°±ç›´æ¥åœ¨ä¸»ç›®å½•ä¸‹ç”Ÿäº§ã€‚\n--num-mappers 1ï¼šè®¾ç½®mapçš„ä¸ªæ•°\n--directï¼šmanager.DirectMySQLManager: Beginning mysqldump fast path import.ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ä¼šå¾ˆå¿«ï¼Œæœ¬æœºè£…æœ‰mysqlæ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚\n--fields-terminated-by &quot;\\t&quot;ï¼šè®¾ç½®è¾“å‡ºæ–‡ä»¶åˆ†åˆ†å‰²æ–¹å¼\n--as-parquetfile :è®¾ç½®æ–‡ä»¶æ ¼å¼ä¸ºparquetfile\n--split-by id :é€šå¸¸é…åˆ-m å‚æ•°ä½¿ç”¨ã€‚ç”¨äºæŒ‡å®šæ ¹æ®å“ªä¸ªå­—æ®µè¿›è¡Œåˆ’åˆ†å¹¶å¯åŠ¨å¤šå°‘ä¸ªmaptaskã€‚\n--columns &lt;col,col,col...&gt; ï¼šæŒ‡å®šè¡¨ä¸­éƒ¨åˆ†å­—æ®µè¿›è¡Œå¯¼å…¥\n--queryï¼šç›´æ¥æŸ¥è¯¢\n--where &lt;where clause&gt; ï¼šæ¡ä»¶æŸ¥è¯¢\n</code></pre>\n<p><strong>å…¨éƒ¨å¯¼å…¥</strong></p>\n<pre><code>bin/sqoop import --connect jdbc:mysql://192.168.128.160:3306/company --username root --password 123456 --table staff --target-dir /user/company --fields-terminated-by &quot;\\t&quot; --delete-target-dir\n</code></pre>\n<p><strong>æŸ¥è¯¢å¯¼å…¥</strong></p>\n<pre><code>bin/sqoop import --connect jdbc:mysql://192.168.182.10:3306/company --username root --password 123456 --table staff --target-dir /user/company --fields-terminated-by &quot;\\t&quot; --query 'select name,sex from staff where id &lt;=1 and $CONDITIONS;'\n</code></pre>\n<p><strong>åˆ é™¤å¯¼å…¥</strong></p>\n<pre><code>hadoop fs -rm -r /user/company\n</code></pre>\n<p><strong>æŸ¥çœ‹å¯¼å…¥</strong></p>\n<pre><code>hdfs dfs -cat /user/company/part-m-00000\n</code></pre>\n<p><strong>å¯¼å…¥æŒ‡å®šåˆ—</strong></p>\n<pre><code>--columns id,sex \\ #åˆ—å\n</code></pre>\n<h2 id=\"ä»mysqlå¯¼å…¥åˆ°hive\"><a class=\"anchor\" href=\"#ä»mysqlå¯¼å…¥åˆ°hive\">#</a> ä» MySQL å¯¼å…¥åˆ° hive</h2>\n<p><strong>å…¨å±€å¯¼å…¥</strong></p>\n<pre><code>bin/sqoop import \\\n--connect jdbc:mysql://master:3306/company \\\n--username root \\\n--password 123456 \\\n--table staff \\\n--num-mappers 1 \\\n--hive-import \\ #å¯¼å…¥hiveçš„å…³é”®å­—\n--fields-terminated-by &quot;\\t&quot; \\\n--hive-overwrite \\ \n--hive-table staff_hive \\\t#hiveçš„è¡¨å\n--hive-database ods\t#å¯¼å…¥åˆ°hiveçš„æ•°æ®åº“\n\nbin/sqoop import --connect jdbc:mysql://master:3306/company --username root --password 123456 --table user_info --num-mappers 1 --hive-import --fields-terminated-by &quot;\\t&quot; --hive-overwrite --hive-table ods.user_info\n</code></pre>\n<p><strong>å¢é‡å¯¼å…¥</strong></p>\n<pre><code>æ·»åŠ \n--incremental lastmodified \\\n--check-column insert_time \\\n--last-value &quot;2019-03-09 14:59:21&quot; \\\n\n--incremental\tæŒ‡å®šå¢é‡æ¨¡å¼ï¼Œå¯é€‰appendæˆ–è€…lastmodifiedï¼Œappendä¸èƒ½ç”¨äºhive\n--check-column\tæŒ‡å®šæ£€æŸ¥çš„åˆ—ï¼Œä¹Ÿå°±æ˜¯å‚è€ƒçš„å¢é‡åˆ—\n--last-value\tæŒ‡å®šå¢é‡åˆ—çš„æœ€æ–°æ•°æ®\n--merge-key\tæŒ‡å®šå‚è€ƒçš„éœ€è¦åˆå¹¶çš„åˆ—\n\n\næ¡ä»¶å¯¼å…¥\nwhereï¼Œæ¡ä»¶å¯¼å…¥\n--where &quot;XXX&gt;XXX&quot;\n\ncolumns,æŒ‡å®šå¯¼å…¥æŒ‡å®šåˆ—\n--columns XXXï¼ŒXXX\n\nquery,å¯¼å…¥æŸ¥è¯¢ç»“æœ\n--query â€™â€˜\n\n\n</code></pre>\n<h2 id=\"ä»hdfsä¸‹è½½åˆ°mysqlå…ˆæŠŠmysqlè¡¨æ ¼æ•°æ®æ¸…ç©º\"><a class=\"anchor\" href=\"#ä»hdfsä¸‹è½½åˆ°mysqlå…ˆæŠŠmysqlè¡¨æ ¼æ•°æ®æ¸…ç©º\">#</a> ä» hdfs ä¸‹è½½åˆ° MySQL\t(å…ˆæŠŠ MySQL è¡¨æ ¼æ•°æ®æ¸…ç©º)</h2>\n<pre><code>#æŸ¥çœ‹è¡¨\nselect * from XXXX;\n#åˆ é™¤è¡¨æ•°æ®\ndelete from staff where name='XXXX';\n</code></pre>\n<p>è„šæœ¬æ–‡ä»¶\tXXX.opt</p>\n<pre><code>export\n--connect\njdbc:mysql://master:3306/company\n--username\nroot\n--password\n123456\n--table\t//æ•°æ®åº“è¡¨å\nstaff\n--num-mappers\n1\n--export-dir\t//hdfsæ–‡ä»¶çš„ä½ç½®\n/user/company\n--input-fields-terminated-by\t\n&quot;\\t&quot;\n</code></pre>\n<h2 id=\"hadoopæ€æ­»æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹\"><a class=\"anchor\" href=\"#hadoopæ€æ­»æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹\">#</a> Hadoop æ€æ­»æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹</h2>\n<pre><code>hadoop job -list\t# æŸ¥çœ‹å½“å‰ä»»åŠ¡åˆ—è¡¨\nhadoop job -kill job_id\t# æ€æ‰æŸä¸€ä»»åŠ¡\n</code></pre>\n<pre><code>CREATE TABLE user_info (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    first_name VARCHAR(50) NOT NULL,\n    last_name VARCHAR(50) NOT NULL,\n    birth_date DATE NOT NULL\n);\n\nCREATE TABLE user_info (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    first_name VARCHAR(50) NOT NULL,\n    last_name VARCHAR(50) NOT NULL,\n    birth_date DATE NOT NULL\n);\n</code></pre>\n<h3 id=\"mysqlåˆ›å»ºä¸´æ—¶è¡¨\"><a class=\"anchor\" href=\"#mysqlåˆ›å»ºä¸´æ—¶è¡¨\">#</a> MySQL åˆ›å»ºä¸´æ—¶è¡¨</h3>\n",
            "tags": [
                "å­¦ä¹ ",
                "å­¦ä¹ MySQL"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/Kafka%E5%AE%89%E8%A3%85/",
            "url": "https://www.jackfruit.top/2023/02/27/Kafka%E5%AE%89%E8%A3%85/",
            "title": "Kafkaå®‰è£…",
            "date_published": "2023-02-27T03:34:36.000Z",
            "content_html": "<h1 id=\"kafkaå®‰è£…\"><a class=\"anchor\" href=\"#kafkaå®‰è£…\">#</a> Kafka å®‰è£…</h1>\n<h3 id=\"1-è§£å‹\"><a class=\"anchor\" href=\"#1-è§£å‹\">#</a> 1ã€è§£å‹</h3>\n<pre><code>tar -zxvf /opt/software/kafka_2.11-2.0.0.tgz -C /opt/module\n</code></pre>\n<h3 id=\"2-ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#2-ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> 2ã€ä¿®æ”¹é…ç½®æ–‡ä»¶</h3>\n<pre><code>cd /opt/module/kafka_2.11-2.0.0\nmkdir logs\tè¿è¡Œæ—¥å¿—å­˜æ”¾çš„è·¯å¾„\ncd config\n</code></pre>\n<p><strong>vi server.properties</strong></p>\n<pre><code>#brokerçš„å…¨å±€å”¯ä¸€ç¼–å·ï¼Œä¸èƒ½é‡å¤\nbroker.id=0\t\t#éœ€è¦æ“ä½œï¼Œæ¯å°æœºå™¨idå·ä¸ä¸€æ ·\n#åˆ é™¤topicçš„åŠŸèƒ½ä½¿èƒ½\ndelete.topic.enable=true\t#éœ€è¦æ“ä½œ\n#kafkaè¿è¡Œæ—¥å¿—å­˜æ”¾çš„è·¯å¾„\nlog.dirs=/opt/module/kafka_2.11-2.0.0/logs\t\t#éœ€è¦æ“ä½œ\n#é…ç½®zookeeperé›†ç¾¤åœ°å€\nzookeeper.connect=master:2181,slave1:2181,slave2:2181\t\t#éœ€è¦æ“ä½œ\n</code></pre>\n<h3 id=\"3-é…ç½®ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#3-é…ç½®ç¯å¢ƒå˜é‡\">#</a> 3ã€é…ç½®ç¯å¢ƒå˜é‡</h3>\n<p><strong>vi /etc/profile</strong></p>\n<pre><code>#set kakfa\nexport KAFKA_HOME=/opt/module/kafka_2.11-2.0.0\nexport PATH=$PATH:$KAFKA_HOME/bin\n</code></pre>\n<pre><code>source /etc/profile\t\t#ç”Ÿæ•ˆç¯å¢ƒå˜é‡\n</code></pre>\n<h3 id=\"å››-åŒæ­¥å…¶ä»–è™šæ‹Ÿæœº\"><a class=\"anchor\" href=\"#å››-åŒæ­¥å…¶ä»–è™šæ‹Ÿæœº\">#</a> å››ã€åŒæ­¥å…¶ä»–è™šæ‹Ÿæœº</h3>\n<pre><code>scp -r /etc/profile root@slave1:/etc/profile\t#å°†ç¯å¢ƒå˜é‡profileæ–‡ä»¶åˆ†å‘åˆ°slave1èŠ‚ç‚¹\nscp -r /etc/profile root@slave2:/etc/profile\t#å°†ç¯å¢ƒå˜é‡profileæ–‡ä»¶åˆ†å‘åˆ°slave2èŠ‚ç‚¹\nscp -r /opt/module/kafka_2.11-2.0.0 root@slave1:/opt/module\t#å°†kafkaæ–‡ä»¶åˆ†å‘åˆ°slave1èŠ‚ç‚¹\nscp -r /opt/module/kafka_2.11-2.0.0 root@slave2:/opt/module\t#å°†kafkaæ–‡ä»¶åˆ†å‘åˆ°slave2èŠ‚ç‚¹\n</code></pre>\n<pre><code>source /etc/profile\t\t#åˆ†èŠ‚ç‚¹ç”Ÿæ•ˆç¯å¢ƒå˜é‡\n</code></pre>\n<h3 id=\"äº”-ä¿®æ”¹åˆ†èŠ‚ç‚¹çš„serverpropertiesæ–‡ä»¶\"><a class=\"anchor\" href=\"#äº”-ä¿®æ”¹åˆ†èŠ‚ç‚¹çš„serverpropertiesæ–‡ä»¶\">#</a> äº”ã€ä¿®æ”¹åˆ†èŠ‚ç‚¹çš„<strong> server.properties æ–‡ä»¶</strong></h3>\n<p><strong>vi /opt/module/kafka_2.11-2.0.0/config/server.properties</strong></p>\n<pre><code>broker.id=1\t\tslave1\n</code></pre>\n<pre><code>broker.id=2\t\tslave2\n</code></pre>\n<h3 id=\"å…­-å¯åŠ¨\"><a class=\"anchor\" href=\"#å…­-å¯åŠ¨\">#</a> å…­ã€å¯åŠ¨</h3>\n<p><strong>å…ˆå¯åŠ¨ zookeeperï¼ˆä¸‰å°æœºå™¨ä¸€èµ·ï¼‰</strong></p>\n<pre><code>cd /opt/module/zookeeper-3.4.6\t\t#å…ˆè¿›å…¥zookeeperçš„ç›®å½•\nbin/zkServer.sh start\t\t#ä¸‰å°æœºå™¨å¯åŠ¨zookeeper\nbin/zkServer.sh status\t\t#æŸ¥çœ‹å¯åŠ¨çŠ¶æ€\n</code></pre>\n<p>ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ Leaderï¼Œå…¶ä½™çš„ç»“ç‚¹æ˜¯ Followerï¼ˆLeader ä¸ä¸€å®šæ˜¯ä¸»èŠ‚ç‚¹ï¼Œç³»ç»Ÿéšæœºåˆ†é…çš„ï¼‰ï¼Œå³ zookeeper å¯åŠ¨æˆåŠŸï¼</p>\n<p><strong>å¯åŠ¨ kafka (ä¸‰å°æœºå™¨ä¸€èµ·)</strong></p>\n<pre><code>cd /opt/module/kafka_2.11-2.0.0\n</code></pre>\n<pre><code>bin/kafka-server-start.sh config/server.properties &amp;\n</code></pre>\n<p>æŒ‰ä¸€ä¸‹ enter</p>\n<p>éƒ½æœ‰ kafka è¿›ç¨‹è¡¨ç¤ºæˆåŠŸ</p>\n<h3 id=\"ä¸ƒ-åˆ›å»ºtopic\"><a class=\"anchor\" href=\"#ä¸ƒ-åˆ›å»ºtopic\">#</a> ä¸ƒã€åˆ›å»º topic</h3>\n<pre><code>2.2ç‰ˆæœ¬ä»¥ä¸Šç”¨è¿™ä¸ª\nkafka-topics.sh --create --bootstrap-server master:9092,slave1:9092,slave2:9092 --replication-factor 2 --partitions 2 --topic installtopic\n</code></pre>\n<pre><code>kafka-topics.sh --create --zookeeper master:2181,slave1:2181,slave2:2181 --replication-factor 2 --partitions 2 --topic installtopic\n</code></pre>\n<p>æŸ¥çœ‹æŒ‡å®šçš„ topic</p>\n<pre><code>kafka-topics.sh --describe --zookeeper master:2181,slave1:2181,slave2:2181 --topic installtopic\n</code></pre>\n<p>æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ topic</p>\n<pre><code>kafka-topics.sh --list --zookeeper master:2181,slave1:2181,slave2:2181\n</code></pre>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/java%E5%AE%89%E8%A3%85/",
            "url": "https://www.jackfruit.top/2023/02/27/java%E5%AE%89%E8%A3%85/",
            "title": "javaå®‰è£…",
            "date_published": "2023-02-27T03:34:09.000Z",
            "content_html": "<h1 id=\"javaå®‰è£…\"><a class=\"anchor\" href=\"#javaå®‰è£…\">#</a> java å®‰è£…</h1>\n<h2 id=\"è§£å‹\"><a class=\"anchor\" href=\"#è§£å‹\">#</a> è§£å‹</h2>\n<pre><code>tar -zxf jdk-8u212-linux-x64.tar.gz -C /opt/module/\n</code></pre>\n<h2 id=\"é…ç½®ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#é…ç½®ç¯å¢ƒå˜é‡\">#</a> é…ç½®ç¯å¢ƒå˜é‡</h2>\n<p>vi /etc/profi</p>\n<pre><code># java envirment\nexport JAVA_HOME=/opt/module/jdk1.8.0_212\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<h2 id=\"ä½¿å…¶ç”Ÿæ•ˆ\"><a class=\"anchor\" href=\"#ä½¿å…¶ç”Ÿæ•ˆ\">#</a> ä½¿å…¶ç”Ÿæ•ˆ</h2>\n<pre><code>source /etc/profile\n</code></pre>\n<h2 id=\"æµ‹è¯•\"><a class=\"anchor\" href=\"#æµ‹è¯•\">#</a> æµ‹è¯•</h2>\n<pre><code>java -version\n\njavac\n</code></pre>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/hive%E4%BD%BF%E7%94%A8/",
            "url": "https://www.jackfruit.top/2023/02/27/hive%E4%BD%BF%E7%94%A8/",
            "title": "hiveä½¿ç”¨",
            "date_published": "2023-02-27T03:33:46.000Z",
            "content_html": "<h2 id=\"hiveçš„ä½¿ç”¨\"><a class=\"anchor\" href=\"#hiveçš„ä½¿ç”¨\">#</a> hive çš„ä½¿ç”¨</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cueWlpYmFpLmNvbS9oaXZlL2hpdmVfYWx0ZXJfdGFibGUuaHRtbA==\">Hive ä¿®æ”¹è¡¨ - Hive æ•™ç¨‹ (yiibai.com)</span></p>\n<p>æŸ¥çœ‹åº“</p>\n<pre><code>show databases;\n</code></pre>\n<p>åˆ›å»ºåº“</p>\n<pre><code>create schema xxxxï¼›\n</code></pre>\n<p>åˆ é™¤åº“</p>\n<pre><code>drop database if exists XXX;\n</code></pre>\n<p>æŸ¥çœ‹æ‰€æœ‰è¡¨</p>\n<pre><code>show tables;\n</code></pre>\n<p>åˆ›å»ºè¡¨</p>\n<pre><code>create table if not exists XXX(æ•°æ®ç±»å‹\n)\n</code></pre>\n<p>ä¿®æ”¹è¡¨</p>\n<pre><code>\n</code></pre>\n<p>åˆ é™¤è¡¨</p>\n<pre><code>drop table if exists XXXX;\n</code></pre>\n<p>æŸ¥çœ‹åˆ†åŒºè¡¨ç»“æ„</p>\n<pre><code>desc formatted è¡¨å;\n</code></pre>\n<p>åœ¨ spark è¿è¡Œæ‰“åŒ…ç¨‹åº</p>\n<pre><code>bin/spark-submit --class Text01.test1 --master spark://master:7077 --conf spark.sql.catalogImplementation=hive /opt/spark_demo.jar 10\t\n</code></pre>\n<p>åˆ›å»ºé™æ€åˆ†åŒº</p>\n<pre><code>create table user_info(\n    id int,\n    name string,\n    operate_time date,\n    create_time date)\n    partitioned by (day string)\n    row format delimited\n    fields terminated by '/t';\n</code></pre>\n<p>é™æ€åˆ†åŒºå†™å…¥æ•°æ®</p>\n<pre><code>--1ã€é™æ€åˆ†åŒºè®¾ç½®\ninsert overwrite table user_info partition (day='2022-11-01')\nselect id,name,operate_time,create_time\t\nfrom user_info1 \nwhere create_time='2022-11-01';\n\n--2ã€æŸ¥çœ‹åˆ†åŒº\nshow partitions user_info;\n\n--3ã€æŸ¥çœ‹udata_partitionæ•°æ®\nselect * from user_info; \n\n</code></pre>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/hive%E5%92%8Cmysql%E5%AE%89%E8%A3%85/",
            "url": "https://www.jackfruit.top/2023/02/27/hive%E5%92%8Cmysql%E5%AE%89%E8%A3%85/",
            "title": "hiveå’Œmysqlå®‰è£…",
            "date_published": "2023-02-27T03:33:20.000Z",
            "content_html": "<h1 id=\"hiveå’Œmysqlå®‰è£…\"><a class=\"anchor\" href=\"#hiveå’Œmysqlå®‰è£…\">#</a> hive å’Œ mysql å®‰è£…</h1>\n<h3 id=\"ä¸€-è§£å‹-æ³¨æ„hiveåªéœ€è¦åœ¨masterèŠ‚ç‚¹ä¸Šå®‰è£…é…ç½®\"><a class=\"anchor\" href=\"#ä¸€-è§£å‹-æ³¨æ„hiveåªéœ€è¦åœ¨masterèŠ‚ç‚¹ä¸Šå®‰è£…é…ç½®\">#</a> ä¸€ã€è§£å‹ï¼ˆ# æ³¨æ„ï¼šHive åªéœ€è¦åœ¨ master èŠ‚ç‚¹ä¸Šå®‰è£…é…ç½®ï¼‰</h3>\n<pre><code>cd  /opt/software\ntar -zxvf apache-hive-2.3.4-bin.tar.gz -C /opt/module\n</code></pre>\n<h3 id=\"äºŒ-å®‰è£…mysql\"><a class=\"anchor\" href=\"#äºŒ-å®‰è£…mysql\">#</a> äºŒã€å®‰è£… mysql</h3>\n<p><strong>å…ˆå¸è½½ mysql</strong></p>\n<pre><code>\tæŸ¥çœ‹æœ¬æœº\trpm -qa | grep mariadb\n</code></pre>\n<pre><code>\tå¸è½½\trpm -e --nodeps XXXXXXXXXX\n</code></pre>\n<p><strong>å®‰è£…</strong></p>\n<pre><code>tar -xvf mysql-5.7.20-1.el6.x86_64.rpm-bundle.tar -C /opt/module\n\ncd /opt/module\n\nrpm -ivh mysql-community-common-5.7.20-1.el6.x86_64.rpm\n\nrpm -ivh mysql-community-libs-5.7.20-1.el6.x86_64.rpm\n\nrpm -ivh mysql-community-client-5.7.20-1.el6.x86_64.rpm\n\nrpm -ivh mysql-community-server-5.7.20-1.el6.x86_64.rpm --force --nodeps\n</code></pre>\n<p><em><strong>* æ£€æŸ¥ä¸€ä¸‹ *</strong></em></p>\n<pre><code>rpm -qa | grep mysql\n</code></pre>\n<p><em><strong>* å¯åŠ¨æœåŠ¡ *</strong></em></p>\n<pre><code>systemctl daemon-reload\t#é‡è½½æ‰€æœ‰ä¿®æ”¹è¿‡çš„é…ç½®æ–‡ä»¶\n\nsystemctl start mysqld\t#å¼€å¯æœåŠ¡\n\nsystemctl enable mysqld #å¼€æœºè‡ªå¯ è‹¥ä¸æˆåŠŸä¹Ÿä¸å½±å“\n</code></pre>\n<p><em><strong>* ç™»å½• MySQL æ•°æ®åº“ *</strong></em></p>\n<pre><code>grep &quot;temporary password&quot; /var/log/mysqld.log\t #è·å–åˆå¯†ç \n\nmysql -uroot -p\t#ç™»é™†MySQLï¼ˆæ³¨æ„ä¸­è‹±æ–‡ï¼‰\n</code></pre>\n<p><em><strong>*MySQL å¯†ç å®‰å…¨ç­–ç•¥è®¾ç½® *</strong></em></p>\n<pre><code>set global validate_password_policy=0; #è®¾ç½®å¯†ç å¼ºåº¦ä¸ºä½çº§\n\nset global validate_password_length=4;\t#è®¾ç½®å¯†ç é•¿åº¦\n\nalter user 'root'@'localhost' identified by '123456';\t#ä¿®æ”¹ç”¨æˆ·å¯†ç \n\n\\q\t#é€€å‡º\n</code></pre>\n<p><em><strong>* è®¾ç½®è¿œç¨‹ç™»å½• *</strong></em></p>\n<pre><code>mysql -uroot -p123456\t#ä»¥æ–°å¯†ç ç™»é™†MySQL\n\ncreate user 'root'@'%' identified by '123456';\t#åˆ›å»ºç”¨æˆ·\n\ngrant all privileges on *.* to 'root'@'%' with grant option;\t#***\\*å…è®¸è¿œç¨‹è¿æ¥\\****\n\nflush privileges;\t#åˆ·æ–°æƒé™\n\ncreate database if not exists test;\t\t#åˆ›å»ºæ•°æ®åº“test\n\n\\q\n</code></pre>\n<h3 id=\"ç¬¬äºŒç§æ–¹å¼\"><a class=\"anchor\" href=\"#ç¬¬äºŒç§æ–¹å¼\">#</a> ç¬¬äºŒç§æ–¹å¼</h3>\n<p><strong>è§£å‹å¹¶æ”¹å</strong></p>\n<pre><code>tar -zxvf /opt/software/mysql-5.7.30-linux-glibc2.12-x86_64.tar.gz -C /opt/module\n\nmv mysql-5.7.30-linux-glibc2.12-x86_64 mysql\n</code></pre>\n<p><strong>åˆ›å»ºæ•°æ®ç›®å½•å¹¶èµ‹äºˆæƒé™</strong></p>\n<pre><code>mkdir -p  /data/mysql              #åˆ›å»ºç›®å½•\nchown mysql:mysql -R /data/mysql   #èµ‹äºˆæƒé™\n</code></pre>\n<p><strong>é…ç½® my.cnf</strong>\t(æ–°æ–‡ä»¶)</p>\n<p><strong>vi /etc/my.cnf</strong></p>\n<pre><code>[mysqld]\nbind-address=0.0.0.0\nport=3306\nuser=mysql\nbasedir=/opt/module/mysql\ndatadir=/data/mysql\nsocket=/tmp/mysql.sock\nlog-error=/data/mysql/mysql.err\npid-file=/data/mysql/mysql.pid\n#character config\ncharacter_set_server=utf8mb4\nsymbolic-links=0\nexplicit_defaults_for_timestamp=true\n</code></pre>\n<p>è¿›å…¥ MySQL çš„ bin ç›®å½•</p>\n<pre><code>cd /opt/module/mysql/bin\n</code></pre>\n<p>åˆå§‹åŒ–</p>\n<pre><code>./mysqld --defaults-file=/etc/my.cnf --basedir=/opt/module/mysql/ --datadir=/data/mysql/ --user=mysql --initialize\n</code></pre>\n<p>æŸ¥çœ‹å¯†ç </p>\n<pre><code>cat /data/mysql/mysql.err\n</code></pre>\n<p>å…ˆå°† mysql.server æ”¾ç½®åˆ° /etc/init.d/mysql ä¸­</p>\n<pre><code>cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql\n</code></pre>\n<p>å¯åŠ¨</p>\n<pre><code>service mysql start\n\nps -ef|grep mysql\n\n./mysql -u root -p   #binç›®å½•ä¸‹\n</code></pre>\n<p>å†æ‰§è¡Œ</p>\n<pre><code>SET PASSWORD = PASSWORD('123456');\nALTER USER 'root'@'localhost' PASSWORD EXPIRE NEVER;\nFLUSH PRIVILEGES;  \n\\q\n</code></pre>\n<p>å†ç™»é™†</p>\n<pre><code>use mysql                                            #è®¿é—®mysqlåº“\nupdate user set host = '%' where user = 'root';      #ä½¿rootèƒ½å†ä»»ä½•hostè®¿é—®\nFLUSH PRIVILEGES;                                    #åˆ·æ–°\n</code></pre>\n<h3 id=\"ä¸‰-ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#ä¸‰-ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> ä¸‰ã€ä¿®æ”¹é…ç½®æ–‡ä»¶</h3>\n<p>é…ç½®ç¯å¢ƒæ–‡ä»¶</p>\n<h4 id=\"vi-etcprofile\"><a class=\"anchor\" href=\"#vi-etcprofile\">#</a> vi /etc/profile</h4>\n<pre><code>#set hive\nexport HIVE_HOME=/opt/module/apache-hive-2.3.4-bin\nexport PATH=$PATH:$HIVE_HOME/bin\n</code></pre>\n<pre><code>source  /etc/profile\n</code></pre>\n<h4 id=\"å°†mysqlä¾èµ–åŒ…æ”¾å…¥masterä¸­\"><a class=\"anchor\" href=\"#å°†mysqlä¾èµ–åŒ…æ”¾å…¥masterä¸­\">#</a> å°† mysql ä¾èµ–åŒ…æ”¾å…¥ master ä¸­</h4>\n<h4 id=\"ä¿®æ”¹æ–‡ä»¶\"><a class=\"anchor\" href=\"#ä¿®æ”¹æ–‡ä»¶\">#</a> ä¿®æ”¹æ–‡ä»¶</h4>\n<pre><code>mkdir /opt/module/apache-hive-2.3.4-bin/warehouse\n\ncd /opt/module/apache-hive-2.3.4-bin/conf\n</code></pre>\n<h5 id=\"vi-hive-sitexml\"><a class=\"anchor\" href=\"#vi-hive-sitexml\">#</a> vi hive-site.xml</h5>\n<pre><code>&lt;configuration&gt;\n&lt;!-- Hiveäº§ç”Ÿçš„å…ƒæ•°æ®å­˜æ”¾ä½ç½®--&gt;\n&lt;property&gt;\n&lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt;\n&lt;value&gt;/opt/module/apache-hive-2.3.4-bin/warehouse&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- æ•°æ®åº“è¿æ¥JDBCçš„URLåœ°å€--&gt;\n&lt;property&gt;\n&lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; \n&lt;value&gt;jdbc:mysql://master:3306/hive?createDatabaseIfNotExist=true&amp;amp;useSSL=false&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- æ•°æ®åº“è¿æ¥driverï¼Œå³MySQLé©±åŠ¨--&gt;\n&lt;property&gt;\n&lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;\n&lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- MySQLæ•°æ®åº“ç”¨æˆ·å--&gt;\n&lt;property&gt;\n&lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;\n&lt;value&gt;root&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- MySQLæ•°æ®åº“å¯†ç --&gt;\n&lt;property&gt;\n&lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;\n&lt;value&gt;123456&lt;/value&gt;\n&lt;/property&gt;\n&lt;property&gt;\n&lt;name&gt;hive.metastore.schema.verification&lt;/name&gt;\n&lt;value&gt;false&lt;/value&gt;\n&lt;/property&gt;\n&lt;property&gt;\n&lt;name&gt;datanucleus.schema.autoCreateAll&lt;/name&gt;\n&lt;value&gt;true&lt;/value&gt;\n&lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<h3 id=\"å››-ä¿®æ”¹ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#å››-ä¿®æ”¹ç¯å¢ƒå˜é‡\">#</a> å››ã€ä¿®æ”¹ç¯å¢ƒå˜é‡</h3>\n<pre><code>cd /opt/module/apache-hive-2.3.4-bin/conf\n\nmv hive-env.sh.template hive-env.sh\n</code></pre>\n<h4 id=\"vi-hive-envsh\"><a class=\"anchor\" href=\"#vi-hive-envsh\">#</a> vi <span class=\"exturl\" data-url=\"aHR0cDovL2hpdmUtZW52LnNo\">hive-env.sh</span></h4>\n<pre><code>HADOOP_HOME=/opt/module/hadoop-2.7.7\nexport HIVE_CONF_DIR=/opt/module/apache-hive-2.3.4-bin/conf\n</code></pre>\n<pre><code>schematool -initSchema -dbType mysql\tåˆå§‹åŒ–mysql\n</code></pre>\n<h3 id=\"äº”-å¯åŠ¨mysqlå’Œhive\"><a class=\"anchor\" href=\"#äº”-å¯åŠ¨mysqlå’Œhive\">#</a> äº”ã€å¯åŠ¨ Mysql å’Œ Hive</h3>\n<h4 id=\"å¯åŠ¨hadoopé›†ç¾¤åªmasterä¸Š\"><a class=\"anchor\" href=\"#å¯åŠ¨hadoopé›†ç¾¤åªmasterä¸Š\">#</a> å¯åŠ¨ hadoop é›†ç¾¤ï¼ˆåª master ä¸Šï¼‰</h4>\n<pre><code>cd /opt/module/hadoop-2.7.7\nsbin/start-all.sh\n</code></pre>\n<h4 id=\"å…ƒæ•°æ®åˆå§‹åŒ–å‘½ä»¤\"><a class=\"anchor\" href=\"#å…ƒæ•°æ®åˆå§‹åŒ–å‘½ä»¤\">#</a> å…ƒæ•°æ®åˆå§‹åŒ–å‘½ä»¤</h4>\n<pre><code>schematool -dbType mysql -initSchema\n</code></pre>\n<h4 id=\"å¯åŠ¨hive-clientåªmasterä¸Š\"><a class=\"anchor\" href=\"#å¯åŠ¨hive-clientåªmasterä¸Š\">#</a> å¯åŠ¨ hive client (åª master ä¸Š)</h4>\n<pre><code>cd /opt/module/apache-hive-2.3.4-bin\nbin/hive --service metastore &amp;\nbin/hive\n</code></pre>\n<p><strong>å°† MySQL é©±åŠ¨å¤åˆ¶åˆ° java çš„ jre ä¸‹çš„ lib ä¸‹çš„ ext ç›®å½•ä¸‹</strong></p>\n<pre><code>\n</code></pre>\n<h3 id=\"å…­-æµ‹è¯•hiveæ˜¯å¦å¯åŠ¨æˆåŠŸ\"><a class=\"anchor\" href=\"#å…­-æµ‹è¯•hiveæ˜¯å¦å¯åŠ¨æˆåŠŸ\">#</a> å…­ã€æµ‹è¯• hive æ˜¯å¦å¯åŠ¨æˆåŠŸ</h3>\n<h4 id=\"æŸ¥çœ‹æ•°æ®åº“\"><a class=\"anchor\" href=\"#æŸ¥çœ‹æ•°æ®åº“\">#</a> æŸ¥çœ‹æ•°æ®åº“</h4>\n<pre><code>hive&gt;show databases;\n</code></pre>\n<h4 id=\"åˆ›å»ºæ•°æ®åº“\"><a class=\"anchor\" href=\"#åˆ›å»ºæ•°æ®åº“\">#</a> åˆ›å»ºæ•°æ®åº“</h4>\n<pre><code>hive&gt;create database testbase;\n</code></pre>\n<h4 id=\"å¤åˆ¶ä¸€ä¸ªmasterä¼šè¯æŸ¥çœ‹ä¸€ä¸‹masterè¿›ç¨‹\"><a class=\"anchor\" href=\"#å¤åˆ¶ä¸€ä¸ªmasterä¼šè¯æŸ¥çœ‹ä¸€ä¸‹masterè¿›ç¨‹\">#</a> å¤åˆ¶ä¸€ä¸ª master ä¼šè¯ï¼ŒæŸ¥çœ‹ä¸€ä¸‹ master è¿›ç¨‹</h4>\n<pre><code>å¦‚æœå¯ä»¥æŸ¥çœ‹ä»¥åŠå»ºç«‹æ•°æ®åº“ï¼Œè¿›ç¨‹ä¸­æœ‰RunJarè¿›ç¨‹ï¼Œåˆ™ä»£è¡¨Mysqlå’ŒHiveå®‰è£…æˆåŠŸå•¦~\n</code></pre>\n<h3 id=\"è§£å†³ç‰ˆæœ¬å†²çªé—®é¢˜slave1-æ“ä½œ\"><a class=\"anchor\" href=\"#è§£å†³ç‰ˆæœ¬å†²çªé—®é¢˜slave1-æ“ä½œ\">#</a> è§£å†³ç‰ˆæœ¬å†²çªé—®é¢˜ (slave1 æ“ä½œ)</h3>\n<pre><code>cp /opt/module/apache-hive-2.3.4-bin/lib/jline-2.12.jar /opt/module/hadoop-2.7.7/share/hadoop/yarn/lib\n</code></pre>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/hadoop-%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/",
            "url": "https://www.jackfruit.top/2023/02/27/hadoop-%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/",
            "title": "hadoop ä¼ªåˆ†å¸ƒå¼å®‰è£…é…ç½®",
            "date_published": "2023-02-27T03:32:26.000Z",
            "content_html": "<h2 id=\"åœ¨ä¼ªåˆ†å¸ƒå¼é‡Œæˆ‘ä»¬åªéœ€è¦æ”¹ä¸‰ä¸ªé…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#åœ¨ä¼ªåˆ†å¸ƒå¼é‡Œæˆ‘ä»¬åªéœ€è¦æ”¹ä¸‰ä¸ªé…ç½®æ–‡ä»¶\">#</a> åœ¨ä¼ªåˆ†å¸ƒå¼é‡Œæˆ‘ä»¬åªéœ€è¦æ”¹ä¸‰ä¸ªé…ç½®æ–‡ä»¶</h2>\n<h3 id=\"core-sitexml\"><a class=\"anchor\" href=\"#core-sitexml\">#</a> core-site.xml</h3>\n<p>æ–‡ä»¶åŒ…å«äº† NameNode ä¸»æœºåœ°å€ï¼Œç›‘å¬ç«¯å£ç­‰ä¿¡æ¯ï¼Œå¯¹äºè¿™ä¸ªä¼ªåˆ†å¸ƒå¼æ¨¡å‹æ¥è¯´ï¼Œæˆ‘çš„ä¸»æœºåœ°å€ä¸º masterï¼ŒNameNode é»˜è®¤ä½¿ç”¨çš„ç«¯å£ä¸º 9000ã€‚</p>\n<pre><code>&lt;configuration&gt;\n&lt;!-- æŒ‡å®šHDFSä¸­NameNodeçš„åœ°å€ --&gt;\n&lt;property&gt;\n &lt;name&gt;fs.defaultFS&lt;/name&gt;\n &lt;value&gt;hdfs://master:9000&lt;/value&gt;\n&lt;/property&gt;\n &lt;!-- æŒ‡å®šhadoopè¿è¡Œæ—¶äº§ç”Ÿæ–‡ä»¶çš„å­˜å‚¨ç›®å½• --&gt;\n&lt;property&gt;\n &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;\n &lt;value&gt;/opt/module/hadoop-2.7.7/tmp&lt;/value&gt;\n&lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<h3 id=\"hdfs-sitexml\"><a class=\"anchor\" href=\"#hdfs-sitexml\">#</a> hdfs-site.xml</h3>\n<p>ç”¨äºé…ç½® / HDFS çš„ç›¸å…³å±æ€§ï¼Œä¾‹å¦‚æ•°æ®å—çš„å‰¯æœ¬å‚æ•°ï¼Œæ•°æ®å—çš„å‰¯æœ¬å¯¹äºä¼ªåˆ†å¸ƒå¼æ¥è¯´åº”è¯¥ä¸º 1</p>\n<pre><code>&lt;configuration&gt;\n&lt;!-- æŒ‡å®šHDFSå‰¯æœ¬çš„æ•°é‡ --&gt;\n   &lt;property&gt;\n      &lt;name&gt;dfs.replication&lt;/name&gt;\n      &lt;value&gt;1&lt;/value&gt;\n   &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<h3 id=\"hadoop-envsh\"><a class=\"anchor\" href=\"#hadoop-envsh\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL2hhZG9vcC1lbnYuc2g=\">hadoop-env.sh</span></h3>\n<p>ç”±äº Hadoop æ˜¯ java è¿›ç¨‹ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ  jdk</p>\n<pre><code>export JAVA_HOME=/opt/module/jdk1.8\n</code></pre>\n<h2 id=\"æ ¼å¼åŒ–æ•°æ®\"><a class=\"anchor\" href=\"#æ ¼å¼åŒ–æ•°æ®\">#</a> æ ¼å¼åŒ–æ•°æ®</h2>\n<pre><code>hdfs namenode -format\n</code></pre>\n<h2 id=\"å¯åŠ¨é›†ç¾¤\"><a class=\"anchor\" href=\"#å¯åŠ¨é›†ç¾¤\">#</a> å¯åŠ¨é›†ç¾¤</h2>\n<pre><code>sbin/start-all.sh\n</code></pre>\n<h2 id=\"æŸ¥çœ‹é›†ç¾¤\"><a class=\"anchor\" href=\"#æŸ¥çœ‹é›†ç¾¤\">#</a> æŸ¥çœ‹é›†ç¾¤</h2>\n<pre><code>jps\n\nhttp://192.168.23.48:50070\n</code></pre>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/hadoop-%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/",
            "url": "https://www.jackfruit.top/2023/02/27/hadoop-%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/",
            "title": "hadoop å®Œå…¨åˆ†å¸ƒå¼å®‰è£…é…ç½®",
            "date_published": "2023-02-27T03:31:22.000Z",
            "content_html": "<h1 id=\"å®Œå…¨åˆ†å¸ƒå¼å®‰è£…hadoop\"><a class=\"anchor\" href=\"#å®Œå…¨åˆ†å¸ƒå¼å®‰è£…hadoop\">#</a> å®Œå…¨åˆ†å¸ƒå¼å®‰è£… hadoop</h1>\n<h3 id=\"1-æ–°å»ºoptsoftware-ä½¿ç”¨xftpå°†hadoopå’Œjavaçš„å‹ç¼©åŒ…ä¸Šä¼ \"><a class=\"anchor\" href=\"#1-æ–°å»ºoptsoftware-ä½¿ç”¨xftpå°†hadoopå’Œjavaçš„å‹ç¼©åŒ…ä¸Šä¼ \">#</a> 1ã€æ–°å»º /opt/software ä½¿ç”¨ xftp å°† hadoop å’Œ java çš„å‹ç¼©åŒ…ä¸Šä¼ </h3>\n<pre><code>cd /opt/\nmkdir software\n</code></pre>\n<h3 id=\"2-æ–°å»ºmoduleæ–‡ä»¶å¤¹å­˜æ”¾è§£å‹åçš„hadoop\"><a class=\"anchor\" href=\"#2-æ–°å»ºmoduleæ–‡ä»¶å¤¹å­˜æ”¾è§£å‹åçš„hadoop\">#</a> 2ã€æ–°å»º module æ–‡ä»¶å¤¹å­˜æ”¾è§£å‹åçš„ hadoop</h3>\n<pre><code>mkdir module\n</code></pre>\n<h3 id=\"3-è§£å‹hadoop\"><a class=\"anchor\" href=\"#3-è§£å‹hadoop\">#</a> 3ã€è§£å‹ hadoop</h3>\n<pre><code>cd /opt/software\ntar -zxf hadoop-2.7.7.tar.gz -C /opt/module/\n</code></pre>\n<h3 id=\"4-é…ç½®ç¯å¢ƒ\"><a class=\"anchor\" href=\"#4-é…ç½®ç¯å¢ƒ\">#</a> 4ã€é…ç½®ç¯å¢ƒ</h3>\n<h4 id=\"vi-etcprofile\"><a class=\"anchor\" href=\"#vi-etcprofile\">#</a> vi /etc/profile</h4>\n<pre><code>#hadoop\nexport HADOOP_HOME=/opt/module/hadoop-2.7.7\nexport PATH=$PATH:$HADOOP_HOME/bin\nexport PATH=$PATH:$HADOOP_HOME/sbin\n</code></pre>\n<h3 id=\"5-ä½¿å…¶ç”Ÿæ•ˆ\"><a class=\"anchor\" href=\"#5-ä½¿å…¶ç”Ÿæ•ˆ\">#</a> 5ã€ä½¿å…¶ç”Ÿæ•ˆ</h3>\n<pre><code>source /etc/profile\n</code></pre>\n<h3 id=\"6-éªŒè¯\"><a class=\"anchor\" href=\"#6-éªŒè¯\">#</a> 6ã€éªŒè¯</h3>\n<pre><code>hadoop version\n</code></pre>\n<h3 id=\"7-é…ç½®hadoopæ–‡ä»¶\"><a class=\"anchor\" href=\"#7-é…ç½®hadoopæ–‡ä»¶\">#</a> 7ã€é…ç½® hadoop æ–‡ä»¶</h3>\n<h4 id=\"vi-core-sitexml\"><a class=\"anchor\" href=\"#vi-core-sitexml\">#</a> vi core-site.xml</h4>\n<pre><code>&lt;configuration&gt;\n&lt;!-- æŒ‡å®šHDFSä¸­NameNodeçš„åœ°å€ --&gt;\n&lt;property&gt;\n &lt;name&gt;fs.defaultFS&lt;/name&gt;\n &lt;value&gt;hdfs://master:9000&lt;/value&gt;\n&lt;/property&gt;\n &lt;!-- æŒ‡å®šhadoopè¿è¡Œæ—¶äº§ç”Ÿæ–‡ä»¶çš„å­˜å‚¨ç›®å½• --&gt;\n&lt;property&gt;\n &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;\n &lt;value&gt;/opt/module/hadoop-2.7.7/tmp&lt;/value&gt;\n&lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<h4 id=\"vi-hdfs-sitexml\"><a class=\"anchor\" href=\"#vi-hdfs-sitexml\">#</a> vi hdfs-site.xml</h4>\n<pre><code>&lt;configuration&gt;\n &lt;property&gt;\n\t&lt;name&gt;dfs.replication&lt;/name&gt;\n  \t&lt;value&gt;3&lt;/value&gt;\n &lt;/property&gt;\n &lt;property&gt;\n  \t&lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;\n\t&lt;value&gt;slave1:50090&lt;/value&gt;\n &lt;/property&gt;\n &lt;property&gt;\n\t&lt;name&gt;dfs.data.dir&lt;/name&gt;\n\t&lt;value&gt;/opt/module/hadoop-2.7.7/tmp/data&lt;/value&gt;\n &lt;/property&gt;\n &lt;property&gt;\n\t&lt;name&gt;dfs.name.dir&lt;/name&gt;\n\t&lt;value&gt;/opt/module/hadoop-2.7.7/tmp/name&lt;/value&gt;\n &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><em><strong>* é…ç½®æ–‡ä»¶ slaves slaves æ–‡ä»¶é‡Œé¢è®°å½•çš„æ˜¯é›†ç¾¤é‡Œæ‰€æœ‰ DataNode çš„ä¸»æœºå *</strong></em></p>\n<h4 id=\"vi-slaves\"><a class=\"anchor\" href=\"#vi-slaves\">#</a> vi slaves</h4>\n<pre><code>master\nslave1\nslave2\n</code></pre>\n<h4 id=\"vi-yarn-sitexml\"><a class=\"anchor\" href=\"#vi-yarn-sitexml\">#</a> vi yarn-site.xml</h4>\n<pre><code>&lt;configuration&gt;\n&lt;!-- Site specific YARN configuration properties --&gt;\n&lt;!-- reducerè·å–æ•°æ®çš„æ–¹å¼ --&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\n &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- æŒ‡å®šYARNçš„ResourceManagerçš„åœ°å€ --&gt;\n&lt;property&gt;\n&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;\n&lt;value&gt;master&lt;/value&gt;\n &lt;/property&gt;\n &lt;!-- å…³é—­è™šæ‹Ÿå†…å­˜çš„æ£€æµ‹ --&gt;\n &lt;property&gt;  \n    &lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;\n    &lt;value&gt;false&lt;/value&gt;\n&lt;/property&gt; \n&lt;/configuration&gt;\n</code></pre>\n<h4 id=\"vi-yarn-envsh\"><a class=\"anchor\" href=\"#vi-yarn-envsh\">#</a> vi <span class=\"exturl\" data-url=\"aHR0cDovL3lhcm4tZW52LnNo\">yarn-env.sh</span></h4>\n<pre><code>export JAVA_HOME=/opt/module/jdk1.8\n</code></pre>\n<h4 id=\"vi-hadoop-envsh\"><a class=\"anchor\" href=\"#vi-hadoop-envsh\">#</a> vi <span class=\"exturl\" data-url=\"aHR0cDovL2hhZG9vcC1lbnYuc2g=\">hadoop-env.sh</span></h4>\n<pre><code>export JAVA_HOME=/opt/module/jdk1.8\n</code></pre>\n<h4 id=\"vi-mapred-sitexml\"><a class=\"anchor\" href=\"#vi-mapred-sitexml\">#</a> vi mapred-site.xml</h4>\n<pre><code>å…ˆæ”¹åï¼Œå› ä¸ºæœ¬èº«æ˜¯æ²¡æœ‰mapred-site.xmlè¿™ä¸ªæ–‡ä»¶çš„\n\nmv mapred-site.xml.template mapred-site.xml\n</code></pre>\n<pre><code>&lt;configuration&gt;\n&lt;!-- æŒ‡å®šmrè¿è¡Œåœ¨yarnä¸Š --&gt;\n &lt;property&gt;\n\t&lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n\t&lt;value&gt;yarn&lt;/value&gt;\n &lt;/property&gt;\n &lt;property&gt;\n\t&lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;\n\t&lt;value&gt;master:10020&lt;/value&gt;\n &lt;/property&gt;\n &lt;property&gt;\n\t&lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;\n\t&lt;value&gt;master:19888&lt;/value&gt;\n &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<h3 id=\"8-æŠŠmasterä¸‹ä¿®æ”¹çš„æ–‡ä»¶åˆ†å‘åˆ°slave1å’Œslave2ä¸‹\"><a class=\"anchor\" href=\"#8-æŠŠmasterä¸‹ä¿®æ”¹çš„æ–‡ä»¶åˆ†å‘åˆ°slave1å’Œslave2ä¸‹\">#</a> 8ã€æŠŠ master ä¸‹ä¿®æ”¹çš„æ–‡ä»¶åˆ†å‘åˆ° slave1 å’Œ slave2 ä¸‹</h3>\n<pre><code>scp -r /opt/module/ root@slave1:/opt\n\nscp -r /opt/module/ root@slave2:/opt\n\nscp -r /etc/profile root@slave1:/etc/profile\n\nscp -r /etc/profile root@slave2:/etc/profile\n</code></pre>\n<pre><code>source /etc/profile\t#åˆ†åˆ«åœ¨ä¸¤ä¸ªåˆ†èŠ‚ç‚¹ä¸Š\n</code></pre>\n<h3 id=\"9-æµ‹è¯•é›†ç¾¤\"><a class=\"anchor\" href=\"#9-æµ‹è¯•é›†ç¾¤\">#</a> 9ã€æµ‹è¯•é›†ç¾¤</h3>\n<pre><code>hdfs namenode -format\tå…ˆæ ¼å¼åŒ–ï¼ˆåªåœ¨ä¸»èŠ‚ç‚¹ä¸Šï¼‰\n</code></pre>\n<h5 id=\"å¯åŠ¨\"><a class=\"anchor\" href=\"#å¯åŠ¨\">#</a> å¯åŠ¨</h5>\n<pre><code>start-all.sh\t#åªåœ¨ä¸»èŠ‚ç‚¹ä¸Š\n</code></pre>\n<pre><code>jps\n</code></pre>\n<h5 id=\"æ‰“å¼€æµè§ˆå™¨-httpmaster50070\"><a class=\"anchor\" href=\"#æ‰“å¼€æµè§ˆå™¨-httpmaster50070\">#</a> æ‰“å¼€æµè§ˆå™¨ <span class=\"exturl\" data-url=\"aHR0cDovL21hc3Rlcjo1MDA3MC8=\">http://master:50070/</span></h5>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/hadoop-HA%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/",
            "url": "https://www.jackfruit.top/2023/02/27/hadoop-HA%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/",
            "title": "hadoop HAå®‰è£…é…ç½®",
            "date_published": "2023-02-27T03:30:26.000Z",
            "content_html": "<h1 id=\"hadoop-haå®‰è£…é…ç½®\"><a class=\"anchor\" href=\"#hadoop-haå®‰è£…é…ç½®\">#</a> Hadoop HA å®‰è£…é…ç½®</h1>\n<h2 id=\"hdfs-sitexml\"><a class=\"anchor\" href=\"#hdfs-sitexml\">#</a> hdfs-site.xml</h2>\n<p>Hadoop å®ˆæŠ¤è¿›ç¨‹çš„é…ç½®é¡¹</p>\n<pre><code>&lt;configuration&gt;\n        &lt;property&gt;\n                &lt;name&gt; dfs.replication &lt;/name&gt;\n                &lt;value&gt;3&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property&gt;\n                &lt;name&gt;dfs.nameservices&lt;/name&gt;\n                &lt;value&gt;mycluster&lt;/value&gt;\n        &lt;/property&gt;\n&lt;!-- é›†ç¾¤ä¸­NameNodeèŠ‚ç‚¹éƒ½æœ‰å“ªäº› --&gt;\n        &lt;property&gt;\n                &lt;name&gt;dfs.ha.namenodes.mycluster&lt;/name&gt;\n                &lt;value&gt;nn1,nn2&lt;/value&gt;\n        &lt;/property&gt;\n\n        &lt;!-- nn1çš„RPCé€šä¿¡åœ°å€ --&gt;\n        &lt;property&gt;\n                &lt;name&gt;dfs.namenode.rpc-address.mycluster.nn1&lt;/name&gt;\n                &lt;value&gt;master:8020&lt;/value&gt;\n        &lt;/property&gt;\n\n        &lt;!-- nn2çš„RPCé€šä¿¡åœ°å€ --&gt;\n        &lt;property&gt;\n                &lt;name&gt;dfs.namenode.rpc-address.mycluster.nn2&lt;/name&gt;\n                &lt;value&gt;slave1:8020&lt;/value&gt;\n        &lt;/property&gt;\n\n        &lt;!-- nn1çš„httpé€šä¿¡åœ°å€ --&gt;\n        &lt;property&gt;\n                &lt;name&gt;dfs.namenode.http-address.mycluster.nn1&lt;/name&gt;\n                &lt;value&gt;master:50070&lt;/value&gt;\n        &lt;/property&gt;\n\n        &lt;!-- nn2çš„httpé€šä¿¡åœ°å€ --&gt;\n        &lt;property&gt;\n                &lt;name&gt;dfs.namenode.http-address.mycluster.nn2&lt;/name&gt;\n                &lt;value&gt;slave1:50070&lt;/value&gt;\n        &lt;/property&gt;\n &lt;!-- æŒ‡å®šNameNodeå…ƒæ•°æ®åœ¨JournalNodeä¸Šçš„å­˜æ”¾ä½ç½® --&gt;\n        &lt;property&gt;\n                &lt;name&gt;dfs.namenode.shared.edits.dir&lt;/name&gt;\n                &lt;value&gt;qjournal://master:8485;slave1:8485;slave2:8485/mycluster&lt;/value&gt;\n        &lt;/property&gt;\n\n        &lt;!-- é…ç½®éš”ç¦»æœºåˆ¶ï¼Œå³åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€å°æœåŠ¡å™¨å¯¹å¤–å“åº” --&gt;\n      \n        &lt;property&gt;\n                &lt;name&gt;dfs.ha.fencing.methods&lt;/name&gt;\n                &lt;value&gt;shell(/bin/true)&lt;/value&gt;\n        &lt;/property&gt;\n\n\n        &lt;!-- ä½¿ç”¨éš”ç¦»æœºåˆ¶æ—¶éœ€è¦sshæ— ç§˜é’¥ç™»å½•--&gt;\n        &lt;property&gt;\n                &lt;name&gt;dfs.ha.fencing.ssh.private-key-files&lt;/name&gt;\n                &lt;value&gt;/root/.ssh/id_rsa&lt;/value&gt;\n        &lt;/property&gt;\n\n        &lt;!-- å£°æ˜journalnodeæœåŠ¡å™¨å­˜å‚¨ç›®å½•--&gt;\n        &lt;property&gt;\n                &lt;name&gt;dfs.journalnode.edits.dir&lt;/name&gt;\n                &lt;value&gt;/opt/modules/hadoop-2.6.0/data/jn&lt;/value&gt; \n        &lt;/property&gt;\n\n        &lt;!-- å…³é—­æƒé™æ£€æŸ¥--&gt;\n        &lt;property&gt;\n                &lt;name&gt;dfs.permissions.enable&lt;/name&gt;\n                &lt;value&gt;false&lt;/value&gt;\n        &lt;/property&gt;\n\n        &lt;!-- è®¿é—®ä»£ç†ç±»ï¼šclientï¼Œmyclusterï¼Œactiveé…ç½®å¤±è´¥è‡ªåŠ¨åˆ‡æ¢å®ç°æ–¹å¼--&gt;\n        &lt;property&gt;\n                &lt;name&gt;dfs.client.failover.proxy.provider.mycluster&lt;/name&gt;\n                &lt;value&gt;org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider&lt;/value&gt;\n        &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<h2 id=\"core-sitexml\"><a class=\"anchor\" href=\"#core-sitexml\">#</a> core-site.xml</h2>\n<p>Hadoop Core çš„é…ç½®é¡¹</p>\n<pre><code>&lt;configuration&gt;\n &lt;property&gt;\n                &lt;name&gt;fs.defaultFS&lt;/name&gt;\n                &lt;value&gt;hdfs://mycluster&lt;/value&gt;\n        &lt;/property&gt;\n\n        &lt;property&gt;\n                &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;\n                &lt;value&gt;/opt/module/hadoop-2.7.7/data&lt;/value&gt;\n        &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<h2 id=\"hadoop-envsh\"><a class=\"anchor\" href=\"#hadoop-envsh\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL2hhZG9vcC1lbnYuc2g=\">hadoop-env.sh</span></h2>\n<p>é…ç½® java è·¯å¾„ï¼ŒåŒæ—¶ä¹Ÿè®°å½•äº†è„šæœ¬ä¸­è¦ç”¨åˆ°çš„ç¯å¢ƒå˜é‡ï¼Œä»¥è¿è¡Œ hadoop</p>\n<pre><code>export JAVA_HOME=/opt/module/jdk1.8\n</code></pre>\n<h2 id=\"slaves\"><a class=\"anchor\" href=\"#slaves\">#</a> slaves</h2>\n<p>è®°å½•çš„æ˜¯é›†ç¾¤é‡Œæ‰€æœ‰ DataNode çš„ä¸»æœºå</p>\n<pre><code>master\nslave1\nslave2\n</code></pre>\n<h2 id=\"yanr-sitexml\"><a class=\"anchor\" href=\"#yanr-sitexml\">#</a> yanr-site.xml</h2>\n<p>ä¸»è¦è®°å½•äº† resourcemanager çš„é…ç½®æ–‡ä»¶</p>\n<pre><code>&lt;configuration&gt;\n\n&lt;!-- Site specific YARN configuration properties --&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\n        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\n    &lt;/property&gt;\n\n &lt;!--å¯ç”¨resourcemanager ha--&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.ha.enabled&lt;/name&gt;\n        &lt;value&gt;true&lt;/value&gt;\n    &lt;/property&gt;\n\n    &lt;!--å£°æ˜ä¸¤å°resourcemanagerçš„åœ°å€--&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.cluster-id&lt;/name&gt;\n        &lt;value&gt;cluster-yarn1&lt;/value&gt;\n    &lt;/property&gt;\n\n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.ha.rm-ids&lt;/name&gt;\n        &lt;value&gt;rm1,rm2&lt;/value&gt;\n    &lt;/property&gt;\n\n\t&lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.hostname.rm1&lt;/name&gt;\n        &lt;value&gt;slave1&lt;/value&gt;\n    &lt;/property&gt;\n\n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.hostname.rm2&lt;/name&gt;\n        &lt;value&gt;slave2&lt;/value&gt;\n    &lt;/property&gt;\n\n    &lt;!--æŒ‡å®šzookeeperé›†ç¾¤çš„åœ°å€--&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.zk-address&lt;/name&gt;\n        &lt;value&gt;master:2181,slave1:2181,slave2:2181&lt;/value&gt;\n    &lt;/property&gt;\n\n    &lt;!--å¯ç”¨è‡ªåŠ¨æ¢å¤--&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.recovery.enabled&lt;/name&gt;\n        &lt;value&gt;true&lt;/value&gt;\n    &lt;/property&gt;\n\n    &lt;!--æŒ‡å®šresourcemanagerçš„çŠ¶æ€ä¿¡æ¯å­˜å‚¨åœ¨zookeeperé›†ç¾¤--&gt;\n    &lt;property&gt;\n     &lt;name&gt;yarn.resourcemanager.store.class&lt;/name&gt;\n     &lt;value&gt;org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore&lt;/value&gt;\n    &lt;/property&gt;\n    \n&lt;/configuration&gt;\n</code></pre>\n<h2 id=\"mapred-sitexml\"><a class=\"anchor\" href=\"#mapred-sitexml\">#</a> mapred-site.xml</h2>\n<p>MapReduce å®ˆæŠ¤è¿›ç¨‹çš„é…ç½®é¡¹</p>\n<pre><code>&lt;!--æŒ‡å®šè¿è¡Œmapreduceçš„ç¯å¢ƒæ˜¯yarn--&gt;\n&lt;property&gt;\n  &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n  &lt;value&gt;yarn&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/flume%E5%AE%89%E8%A3%85%EF%BC%88%E5%8C%85%E5%90%ABhdfs%E6%93%8D%E4%BD%9C%EF%BC%89/",
            "url": "https://www.jackfruit.top/2023/02/27/flume%E5%AE%89%E8%A3%85%EF%BC%88%E5%8C%85%E5%90%ABhdfs%E6%93%8D%E4%BD%9C%EF%BC%89/",
            "title": "flumeå®‰è£…ï¼ˆåŒ…å«hdfsæ“ä½œï¼‰",
            "date_published": "2023-02-27T03:29:22.000Z",
            "content_html": "<h1 id=\"flume-å®‰è£…\"><a class=\"anchor\" href=\"#flume-å®‰è£…\">#</a> flume å®‰è£…</h1>\n<h3 id=\"1-è§£å‹\"><a class=\"anchor\" href=\"#1-è§£å‹\">#</a> 1ã€è§£å‹</h3>\n<pre><code>tar -zxvf /opt/software/apache-flume-1.7.0-bin.tar.gz -C /opt/module\n</code></pre>\n<h3 id=\"äºŒ-é…ç½®-flume-envsh\"><a class=\"anchor\" href=\"#äºŒ-é…ç½®-flume-envsh\">#</a> äºŒã€é…ç½® <span class=\"exturl\" data-url=\"aHR0cDovL2ZsdW1lLWVudi5zaA==\">flume-env.sh</span></h3>\n<pre><code>cd /opt/module/apache-flume-1.7.0-bin/conf\n</code></pre>\n<pre><code>mv flume-env.sh.template flume-env.sh\n</code></pre>\n<p><strong>vi <span class=\"exturl\" data-url=\"aHR0cDovL2ZsdW1lLWVudi5zaA==\">flume-env.sh</span></strong></p>\n<pre><code>export JAVA_HOME=/opt/module/jdk1.8.0_212\n</code></pre>\n<h3 id=\"ä¸‰-é…ç½®ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#ä¸‰-é…ç½®ç¯å¢ƒå˜é‡\">#</a> ä¸‰ã€é…ç½®ç¯å¢ƒå˜é‡</h3>\n<p><strong>vi /etc/profile</strong></p>\n<pre><code>#set flume\nexport FLUME_HOME=/opt/module/apache-flume-1.7.0-bin\nexport FLUME_CONF_DIR=$FLUME_HOME/conf\nexport PATH=$PATH:$FLUME_HOME/bin\n</code></pre>\n<pre><code>source /etc/profile\t\t#ç”Ÿæ•ˆç¯å¢ƒå˜é‡\n</code></pre>\n<h3 id=\"å››-æŸ¥çœ‹flumeç‰ˆæœ¬\"><a class=\"anchor\" href=\"#å››-æŸ¥çœ‹flumeç‰ˆæœ¬\">#</a> å››ã€æŸ¥çœ‹ flume ç‰ˆæœ¬</h3>\n<pre><code>flume-ng version\n</code></pre>\n<h3 id=\"äº”-é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#äº”-é…ç½®æ–‡ä»¶\">#</a> äº”ã€é…ç½®æ–‡ä»¶</h3>\n<p><strong>1. å°† hadoop çš„ hdfs-site.xml å’Œ core-site.xml æ”¾åˆ° flume/conf ä¸‹</strong></p>\n<pre><code>cp $HADOOP_HOM/etc/hadoop/core-site.xml $FLUME_HOME/conf/\ncp $HADOOP_HOM/etc/hadoop/hdfs-site.xml $FLUME_HOME/conf/\n</code></pre>\n<p><strong>2. å°† hadoop çš„ jar åŒ…æ‹·è´åˆ° flume çš„ lib ç›®å½•ä¸‹</strong></p>\n<pre><code>cp $HADOOP_HOME/share/hadoop/common/hadoop-common-2.7.7.jar  $FLUME_HOME/lib/\ncp $HADOOP_HOME/share/hadoop/common/lib/hadoop-auth-2.7.7.jar   $FLUME_HOME/lib/\ncp $HADOOP_HOME/share/hadoop/common/lib/commons-configuration-1.6.jar   $FLUME_HOME/lib/\n</code></pre>\n<p><strong>3. é…ç½® flume2.conf</strong></p>\n<p>åˆ›å»ºç›‘æ§æ–‡ä»¶å¤¹</p>\n<pre><code>mkdir /logs\n</code></pre>\n<p>åœ¨ flume å®‰è£…ç›®å½•ä¸‹çš„ conf ä¸‹åˆ›å»ºä¸€ä¸ª flume2.conf æ–‡ä»¶ï¼Œå¹¶å†™å…¥é…ç½®</p>\n<pre><code>#å®šä¹‰agentåï¼Œ sourceã€channelã€sinkçš„åç§°\na1.sources = r1\na1.channels = c1\na1.sinks = k1\n\n#å…·ä½“å®šä¹‰source\na1.sources.r1.type = spooldir\n#å…ˆåˆ›å»ºæ­¤ç›®å½•ï¼Œä¿è¯é‡Œé¢ç©ºçš„\na1.sources.r1.spoolDir = /logs\n\n#å…·ä½“å®šä¹‰sink\na1.sinks.k1.type = hdfs\n\n#é›†ç¾¤çš„nameserversåå­—     \na1.sinks.k1.hdfs.path = hdfs://master:9000/tmp/flume\n\na1.channels.c1.type=file\n\n#ç»„è£…sourceã€channelã€sink\na1.sources.r1.channels = c1\na1.sinks.k1.channel = c1\n</code></pre>\n<p><strong>4. å¯åŠ¨ flume (ä¿è¯é¦–å…ˆå¯åŠ¨ hdfs)</strong></p>\n<p>åœ¨ /opt/module/flume-1.7.0 ç›®å½•ä¸‹</p>\n<pre><code>bin/flume-ng agent -n a1 -f conf/flume2.conf\n</code></pre>\n<p><strong>5. æµ‹è¯•</strong></p>\n<p>é‡æ–°æ‰“å¼€ä¸€ä¸ªçª—å£</p>\n<pre><code>cp /opt/module/hadoop-2.7.7/logs/hadoop-root-datanode-master.log /logs\n</code></pre>\n<p><strong>6. æŸ¥çœ‹</strong></p>\n<pre><code>hadoop fs -cat /tmp/flume/XXXXXXXXX\n</code></pre>\n<p>å¤‡æ³¨ï¼š</p>\n<p>Hadoop æ–‡ä»¶ä¿®æ”¹æ–¹å¼</p>\n<pre><code>rm åˆ é™¤ç›®å½•æˆ–è€…æ–‡ä»¶\n\nä½¿ç”¨æ–¹æ³•:hadoop fs -rm [æ–‡ä»¶è·¯å¾„]  åˆ é™¤æ–‡ä»¶å¤¹åŠ ä¸Š -r\nç¤ºä¾‹: hadoop fs -rm /test1.txt\n</code></pre>\n<pre><code>cat æŸ¥çœ‹æ–‡ä»¶å†…å®¹\n\nä½¿ç”¨æ–¹æ³•ï¼šhadoop fs -cat URI [URI â€¦]\nç¤ºä¾‹ï¼š hadoop fs -cat /in/test2.txt\n</code></pre>\n<pre><code>ls æ˜¾ç¤ºç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹\n\nä½¿ç”¨æ–¹æ³•ï¼š hadoop fs -ls [uriå½¢å¼ç›®å½•]\nç¤ºä¾‹: hadoop fs â€“ls /    æ˜¾ç¤ºæ ¹ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•\n\næ˜¾ç¤ºç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¯ä»¥åŠ  -R é€‰é¡¹\nç¤ºä¾‹: hadoop fs -ls -R /\n</code></pre>\n<pre><code>copyFromLocal å¤åˆ¶æœ¬åœ°æ–‡ä»¶åˆ°hdfs\n\nä½¿ç”¨æ–¹æ³•ï¼šhadoop fs-copyFromLocal &lt;localsrc&gt; URI\né™¤äº†é™å®šæºè·¯å¾„æ˜¯ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶å¤–ï¼Œå’Œputå‘½ä»¤ç›¸ä¼¼\n</code></pre>\n<pre><code>get å¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°ç³»ç»Ÿ\n\nä½¿ç”¨æ–¹æ³•ï¼šhadoop fs -get[-ignorecrc] [-crc] &lt;src&gt; &lt;localdst&gt; \nå¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€‚å¯ç”¨-ignorecrcé€‰é¡¹å¤åˆ¶CRCæ ¡éªŒå¤±è´¥çš„æ–‡ä»¶ã€‚ä½¿ç”¨-crcé€‰é¡¹å¤åˆ¶æ–‡ä»¶ä»¥åŠCRCä¿¡æ¯ã€‚\nç¤ºä¾‹ï¼šhadoop fs -get/word /usr/wisedu/temp/word.txt\n</code></pre>\n<pre><code>copyToLocal å¤åˆ¶ æ–‡ä»¶åˆ°æœ¬åœ°ç³»ç»Ÿ\n\nä½¿ç”¨æ–¹æ³•ï¼šhadoop fs-copyToLocal [-ignorecrc] [-crc] URI &lt;localdst&gt;\né™¤äº†é™å®šç›®æ ‡è·¯å¾„æ˜¯ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶å¤–ï¼Œå’Œgetå‘½ä»¤ç±»ä¼¼ã€‚\nç¤ºä¾‹ï¼šhadoop fs - copyToLocal/word /usr/wisedu/temp/word.txt\n</code></pre>\n<pre><code>put å¤åˆ¶æ–‡ä»¶ã€‚å°†æ–‡ä»¶å¤åˆ¶åˆ°hdfsç³»ç»Ÿä¸­ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–æ–‡ä»¶ï¼Œæ­¤æ—¶çš„dstæ˜¯ä¸€ä¸ªæ–‡ä»¶\n\nä½¿ç”¨æ–¹æ³•: hadoop fs -put &lt;localsrc&gt; ... &lt;dst&gt;\nç¤ºä¾‹ï¼šHadoop fs -put /usr/wisedu/temp/test1.txt /\nä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–æ–‡ä»¶ï¼šhadoop fs -put -/in/myword\n</code></pre>\n<pre><code>cp å¤åˆ¶ç³»ç»Ÿå†…æ–‡ä»¶\n \nä½¿ç”¨æ–¹æ³•ï¼šhadoopfs -cp URI [URI â€¦] &lt;dest&gt;\nå°†æ–‡ä»¶ä»æºè·¯å¾„å¤åˆ¶åˆ°ç›®æ ‡è·¯å¾„ã€‚è¿™ä¸ªå‘½ä»¤å…è®¸æœ‰å¤šä¸ªæºè·¯å¾„ï¼Œæ­¤æ—¶ç›®æ ‡è·¯å¾„å¿…é¡»æ˜¯ä¸€ä¸ªç›®å½•ã€‚ \nç¤ºä¾‹ï¼šhadoop fs -cp /in/myword/word\n</code></pre>\n<pre><code>mv å°†æ–‡ä»¶ä»æºè·¯å¾„ç§»åŠ¨åˆ°ç›®æ ‡è·¯å¾„ã€‚è¿™ä¸ªå‘½ä»¤å…è®¸æœ‰å¤šä¸ªæºè·¯å¾„ï¼Œæ­¤æ—¶ç›®æ ‡è·¯å¾„å¿…é¡»æ˜¯ä¸€ä¸ªç›®å½•ã€‚ä¸å…è®¸åœ¨ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿé—´ç§»åŠ¨æ–‡ä»¶ã€‚\n\nä½¿ç”¨æ–¹æ³•ï¼šhadoop fs -mv URI [URI â€¦] &lt;dest&gt;\nç¤ºä¾‹ï¼šhadoop fs -mv /in/test2.txt /test2.txt\n</code></pre>\n<pre><code>du æ˜¾ç¤ºæ–‡ä»¶å¤§å°ã€‚æ˜¾ç¤ºç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶çš„å¤§å°ã€‚\n\nä½¿ç”¨æ–¹æ³•ï¼šhadoop fs -du URI [URI â€¦]\nç¤ºä¾‹: hadoop fs -du /\n\næ˜¾ç¤ºå½“å‰ç›®å½•æˆ–è€…æ–‡ä»¶å¤¹çš„å¤§å°å¯åŠ é€‰é¡¹ -s\nç¤ºä¾‹: hadoop fs -du -s /\n</code></pre>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/flink%E5%AE%89%E8%A3%85/",
            "url": "https://www.jackfruit.top/2023/02/27/flink%E5%AE%89%E8%A3%85/",
            "title": "flinkå®‰è£…",
            "date_published": "2023-02-27T03:27:53.000Z",
            "content_html": "<h1 id=\"flinkå®‰è£…\"><a class=\"anchor\" href=\"#flinkå®‰è£…\">#</a> flink å®‰è£…</h1>\n<h3 id=\"è§£å‹\"><a class=\"anchor\" href=\"#è§£å‹\">#</a> è§£å‹</h3>\n<pre><code>tar -zxvf /opt/software/flink-1.10.2-bin-scala_2.11.tgz -C /opt/module\n\ncd /opt/module/flink-1.10.2\n</code></pre>\n<h3 id=\"ä¿®æ”¹é…ç½®æ–‡ä»¶\"><a class=\"anchor\" href=\"#ä¿®æ”¹é…ç½®æ–‡ä»¶\">#</a> ä¿®æ”¹é…ç½®æ–‡ä»¶</h3>\n<p><strong>vi conf/flink-conf.yaml</strong></p>\n<pre><code>jobmanager.rpc.address: master\n</code></pre>\n<p><strong>vi conf/slaves</strong></p>\n<pre><code>slave1\nslave2\n</code></pre>\n<p><strong>vi conf/masters</strong></p>\n<pre><code>master\n</code></pre>\n<h3 id=\"åŒæ­¥èŠ‚ç‚¹\"><a class=\"anchor\" href=\"#åŒæ­¥èŠ‚ç‚¹\">#</a> åŒæ­¥èŠ‚ç‚¹</h3>\n<pre><code>scp -r /opt/module/flink-1.10.2 root@slave1:/opt/module\nscp -r /opt/module/flink-1.10.2 root@slave2:/opt/module\nscp -r /etc/profile root@slave1:/etc/profile\t#å°†ç¯å¢ƒå˜é‡profileæ–‡ä»¶åˆ†å‘åˆ°slave1èŠ‚ç‚¹\nscp -r /etc/profile root@slave2:/etc/profile\t#å°†ç¯å¢ƒå˜é‡profileæ–‡ä»¶åˆ†å‘åˆ°slave2èŠ‚ç‚¹\n</code></pre>\n<h3 id=\"å¯åŠ¨é›†ç¾¤\"><a class=\"anchor\" href=\"#å¯åŠ¨é›†ç¾¤\">#</a> å¯åŠ¨é›†ç¾¤</h3>\n<pre><code>start-cluster.sh\n</code></pre>\n<pre><code>http://master:8081   è®¿é—®webç•Œé¢\n</code></pre>\n<h3 id=\"é—®é¢˜\"><a class=\"anchor\" href=\"#é—®é¢˜\">#</a> é—®é¢˜</h3>\n<pre><code>export HADOOP_CLASSPATH=`hadoop classpath`\n\nhadoop classpath\n\nå†å¯åŠ¨\n\nstop-cluster.sh\t#åœæ­¢é›†ç¾¤\n</code></pre>\n",
            "tags": [
                "Hadoopæ­å»º",
                "æ­å»º"
            ]
        },
        {
            "id": "https://www.jackfruit.top/2023/02/27/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%90%AD%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%BF%83%E5%BE%97/",
            "url": "https://www.jackfruit.top/2023/02/27/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%90%AD%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%BF%83%E5%BE%97/",
            "title": "å­¦ä¹ Hadoop",
            "date_published": "2023-02-27T02:52:12.000Z",
            "content_html": "<h3 id=\"ç¬¬ä¸€æ¬¡ç¼–å†™ä¸ªäººåšå®¢ã¥-Ì„3-Ì„ã¥ï¸~\"><a class=\"anchor\" href=\"#ç¬¬ä¸€æ¬¡ç¼–å†™ä¸ªäººåšå®¢ã¥-Ì„3-Ì„ã¥ï¸~\">#</a> ç¬¬ä¸€æ¬¡ç¼–å†™ä¸ªäººåšå®¢ï¼ˆã¥ï¿£3ï¿£ï¼‰ã¥â•­â¤ï¸ï½</h3>\n<h5 id=\"æ”¶è·\"><a class=\"anchor\" href=\"#æ”¶è·\">#</a> æ”¶è·ğŸ˜Šï¼š</h5>\n<pre><code>\tç¬¬ä¸€æ¬¡ç¼–å†™åšå®¢æ˜¯å¥—ç”¨åˆ«äººçš„æ–¹æ³•ä½¿ç”¨çš„ï¼Œå¤–è§‚ã€å›¾ç‰‡ã€CSSæ ·å¼ã€æ¸²æŸ“å™¨ç­‰ç­‰ç­‰....\n</code></pre>\n<p>â€‹\t<strong>æ”¶è·åˆ°è®¸å¤šï¼Œäº†è§£åˆ°ä¸€ä¸ªç½‘ç«™æ˜¯å¦‚ä½•å»ºæˆçš„ï¼ˆè™½ç„¶æ˜¯æœ€ç®€å•æ­å»ºï¼Œç”¨æ—¶ï¼š5 ä¸ªå°æ—¶å¤šä¸€ç‚¹ï½ï½ï½ï¼‰ã€‚æ¯”å¦‚è¯´å¦‚ä½•å»ºä»“åº“ï¼Œæ— åç«¯è¯„è®ºåŒºï¼Œæœç´¢å¼•æ“ç­‰ï¼Œï¼Œï¼Œè¿™äº›éƒ½æ˜¯å§”æ‰˜åœ¨ç¬¬ä¸‰æ–¹å¹³å°ä¸Šæ­å»ºèµ·æ¥çš„ï¼Œä»£ç æ²¡æ”¹å¤ªå¤šï¼ˆéƒ½æ˜¯ copy åˆ«äººçš„æ ·å¼ï¼Œä¸»é¢˜ï¼Œï¼Œï¼‰ã€‚ç°åœ¨å…ˆæ¨¡ä»¿ï¼ŒåæœŸå†æ…¢æ…¢æ‘¸ç´¢ã€‚</strong></p>\n<p>è¿™ä¸ªç½‘ç«™æˆ‘ä¹Ÿä¼šç»´æŠ¤ä¸‹å»ï¼Œä½†æ˜¯è‡³äºæ˜¯å•¥æ—¶å€™æ›´æ–°å°±ä¸ä¸€å®šäº†ã€‚</p>\n",
            "tags": []
        },
        {
            "id": "https://www.jackfruit.top/2023/02/26/hello-world/",
            "url": "https://www.jackfruit.top/2023/02/26/hello-world/",
            "title": "Hello World",
            "date_published": "2023-02-26T09:52:10.565Z",
            "content_html": "<p>Welcome to <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span>! This is your very first post. Check <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv\">documentation</span> for more info. If you get any problems when using Hexo, you can find the answer in <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=\">troubleshooting</span> or you can ask me on <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==\">GitHub</span>.</p>\n<h2 id=\"quick-start\"><a class=\"anchor\" href=\"#quick-start\">#</a> Quick Start</h2>\n<h3 id=\"create-a-new-post\"><a class=\"anchor\" href=\"#create-a-new-post\">#</a> Create a new post</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo new <span class=\"token string\">\"My New Post\"</span></pre></td></tr></table></figure><p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s\">Writing</span></p>\n<h3 id=\"run-server\"><a class=\"anchor\" href=\"#run-server\">#</a> Run server</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo server</pre></td></tr></table></figure><p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=\">Server</span></p>\n<h3 id=\"generate-static-files\"><a class=\"anchor\" href=\"#generate-static-files\">#</a> Generate static files</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo generate</pre></td></tr></table></figure><p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s\">Generating</span></p>\n<h3 id=\"deploy-to-remote-sites\"><a class=\"anchor\" href=\"#deploy-to-remote-sites\">#</a> Deploy to remote sites</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo deploy</pre></td></tr></table></figure><p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s\">Deployment</span></p>\n",
            "tags": []
        }
    ]
}